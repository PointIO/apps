{"name":"Executive User Profile","desc":"Comcast User Profile with many many facts","template":{"_id":{"$oid":"567873f24300006303ea9ead"},"id":"567873f24300006303ea9ead","owner":{},"recType":"app","name":"Executive User Profile","desc":"Comcast User Profile with many many facts","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807056556,"createDate":{"$date":1450734578667},"updateDate":{"$date":1450807056556},"origin":{"id":"567318b2370000791396b6d2","name":"Executive User Profile","desc":"Comcast User Profile with many many facts","creatorId":"tpanagos@point.io","createDate":1450734578667,"checksum":"E270754D81129F91705058D90F6F0BB97463D980367D3DE00D3A3F868A7437B4L29334"},"data":{"style":"<!--Enter Style Here-->","facts":{"ADListMap":{"apidata_method":"GETRECS","objTypeId":"Default","display":"once"},"ADReadMap":{"apidata_method":"GET","objId":"$$objId","objTypeId":"Profile","display":"always"},"DossierMap":{"apidata_method":"GET","display":"always","objId":"$$objId","objTypeId":"com.comcast.dossier_data","template":"com.comcast.dossier_template","title":"Personal Details"},"AddressMap":{"apidata_method":"GET","display":"always","objId":"$$objId","objTypeId":"com.comcast.address_data","template":"com.comcast.address_template","title":"Dossier Addresses"},"PasswordMap":{"apidata_method":"GET","display":"always","objId":"$$objId","objTypeId":"com.comcast.password_data","template":"com.comcast.password_template","title":"Dossier Passwords"},"FilesFolderMap":{"apidata_method":"GET","display":"always","objTypeId":"Content","containerid":"/Demo","path":"/Demo","objId":"824BCE62-FBB1-464D-AF58556AF35003BB"},"PhotosFolderMap":{"apidata_method":"GET","display":"always","containerid":"/Demo/Photos","path":"/Demo/Photos","objTypeId":"Content","objId":"824BCE62-FBB1-464D-AF58556AF35003BB"},"HardwareMap":{"apidata_method":"GET","objId":"$$objId","objTypeId":"com.comcast.hardware_data","template":"com.comcast.hardware_template","title":"Hardware Details","display":"always"},"SoftwareMap":{"apidata_method":"GET","objId":"$$objId","objTypeId":"com.comcast.software_data","template":"com.comcast.software_template","title":"Software Details","display":"always"},"admins":["anthony@comcast.com","tpanagos@point.io","msalomone@point.io","zcao@point.io"]},"forms":[{"taskname":"Select User","taskkey":"poi_select_form","formid":"567873f14300005b03ea9e79","formname":"poi_select_form"},{"taskname":"Help Desk UI","taskkey":"poi_HelpDeskUI_form","formid":"567873f14300005b03ea9e79","formname":"poi_HelpDeskUI_form"}],"providers":[{"taskname":"List AD Entries","taskkey":"poi_ListADProfile_fact","providerid":"56798a9a2700008901cfc236"},{"taskname":"Get AD data from GUID","taskkey":"poi_GetADProfile_fact","providerid":"56798a9a2700008901cfc236"},{"taskname":"Get Dossier Data","taskkey":"poi_GetDossierData_fact","providerid":"56798a9a2700008901cfc234"},{"taskname":"Get Address Data","taskkey":"poi_GetAddressData_fact","providerid":"56798a9a2700008401cfc232"},{"taskname":"Get Hardware Data","taskkey":"poi_GetHardData_fact","providerid":"56798ee72700007a02cfc2d5"},{"taskname":"Get Files","taskkey":"poi_GetFilesData_fact","providerid":"56798a992700008401cfc22e"},{"taskname":"Get Photos","taskkey":"poi_GetPhotos_fact","providerid":"56798a992700007701cfc22c"},{"taskname":"Get Software Data","taskkey":"poi_GetSoftData_fact","providerid":"56798e922700007802cfc2c9"},{"taskname":"Get Password Data","taskkey":"poi_GetPwdData_fact","providerid":"56798a9a2700008901cfc230"}],"processtype":{"name":"com.comcast.ExecutiveSupport","version":"com.comcast.ExecutiveSupport:1:270"},"icon":"data:image/png;base64,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","diagram_xml":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"newApp\" id=\"30\" inline=\"false\" deletable=\"false\" x=\"0\" y=\"0\">\n    <mutation formcount=\"2\" factcount=\"9\" forms=\",Select User,poi_select_form,Help Desk UI,poi_HelpDeskUI_form\" facts=\",List AD Entries,poi_ListADProfile_fact ,Get AD data from GUID,poi_GetADProfile_fact ,Get Dossier Data,poi_GetDossierData_fact ,Get Address Data,poi_GetAddressData_fact ,Get Hardware Data,poi_GetHardData_fact ,Get Files,poi_GetFilesData_fact ,Get Photos,poi_GetPhotos_fact ,Get Software Data,poi_GetSoftData_fact ,Get Password Data,poi_GetPwdData_fact \" factmap=\",ADListMap,ADReadMap,DossierMap,AddressMap,HardwareMap,FilesFolderMap,PhotosFolderMap,SoftwareMap,PasswordMap\"></mutation>\n    <field name=\"PROCESSTYPES\">[\"Comcast Executive Support\",\"com.comcast.ExecutiveSupport:1:274\"]</field>\n    <value name=\"FORM_1\">\n      <block type=\"Form\" id=\"33\">\n        <field name=\"FORMS\">567873f14300005b03ea9e79</field>\n      </block>\n    </value>\n    <value name=\"FORM_2\">\n      <block type=\"Form\" id=\"37\">\n        <field name=\"FORMS\">567873f14300005b03ea9e79</field>\n      </block>\n    </value>\n    <value name=\"FACT_1\">\n      <block type=\"newFact\" id=\"31\" inline=\"false\">\n        <mutation inputcount=\"1\" type=\"LIST Recs\"></mutation>\n        <field name=\"FACTS\">56798a9a2700008901cfc236</field>\n        <field name=\"factTypes\">LIST Recs</field>\n        <field name=\"display\">once</field>\n        <value name=\"INPUT_0\">\n          <block type=\"text\" id=\"32\">\n            <field name=\"TEXT\">Default</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_2\">\n      <block type=\"newFact\" id=\"34\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798a9a2700008901cfc236</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"variable\" id=\"35\">\n            <field name=\"SELECT\">objId</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"36\">\n            <field name=\"TEXT\">Profile</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_3\">\n      <block type=\"newFact\" id=\"38\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798a9a2700008901cfc234</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"variable\" id=\"39\">\n            <field name=\"SELECT\">objId</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"40\">\n            <field name=\"TEXT\">com.comcast.dossier_data</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_4\">\n      <block type=\"newFact\" id=\"41\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798a9a2700008401cfc232</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"variable\" id=\"42\">\n            <field name=\"SELECT\">objId</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"43\">\n            <field name=\"TEXT\">com.comcast.address_data</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_5\">\n      <block type=\"newFact\" id=\"44\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798ee72700007a02cfc2d5</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"variable\" id=\"45\">\n            <field name=\"SELECT\">objId</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"46\">\n            <field name=\"TEXT\">com.comcast.hardware_data</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_6\">\n      <block type=\"newFact\" id=\"47\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798a992700008401cfc22e</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"text\" id=\"48\">\n            <field name=\"TEXT\">824BCE62-FBB1-464D-AF58556AF35003BB</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"49\">\n            <field name=\"TEXT\">Content</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_7\">\n      <block type=\"newFact\" id=\"50\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798a992700007701cfc22c</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"text\" id=\"51\">\n            <field name=\"TEXT\">824BCE62-FBB1-464D-AF58556AF35003BB</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"52\">\n            <field name=\"TEXT\">Content</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_8\">\n      <block type=\"newFact\" id=\"53\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798e922700007802cfc2c9</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"variable\" id=\"54\">\n            <field name=\"SELECT\">objId</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"55\">\n            <field name=\"TEXT\">com.comcast.software_data</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name=\"FACT_9\">\n      <block type=\"newFact\" id=\"56\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56798a9a2700008901cfc230</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_0\">\n          <block type=\"variable\" id=\"57\">\n            <field name=\"SELECT\">objId</field>\n          </block>\n        </value>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"58\">\n            <field name=\"TEXT\">com.comcast.password_data</field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>\n</xml>","styleChoice":"Default"},"checksum":"7D4722DCA707E123BD1B3717354FB127D12EA2D54926F71C0C1EDE65AE42859FL87831"},"facts":[{"_id":{"$oid":"56798a9a2700008901cfc230"},"id":"56798a9a2700008901cfc230","owner":{},"recType":"app","name":"Password Dossier Data","desc":"Dossier Fact parameterized to return password data","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807132782,"createDate":{"$date":1450805914016},"updateDate":{"$date":1450807132782},"origin":{"id":"567318b12e0000a01356f107","name":"dossier retrieval 2.0","desc":"Dossier Fact parameterized to return misc, address, or password data","creatorId":"tpanagos@point.io","createDate":1450805914016,"checksum":"E59D75B0B73CB9A559CD08DF1E29D856F7A3E62969E483BCFD22CE4FF0EED8FBL660"},"data":{"facts":{},"query":"[\n  {\n    \"$match\": {\n      \"data.vars.user\": \"$$objId\",\n      \"data.recordType\": \"$$objTypeId\"\n    }\n  }\n]","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"567985862700006700cfc197","formname":"poi_default_view"},{"taskname":"Type 1","taskkey":"poi_type1_view","formid":"567985862700006700cfc197","formname":"poi_type1_view"},{"taskname":"Type 2","taskkey":"poi_type2_view","formid":"567985862700006700cfc197","formname":"poi_type2_view"}],"providers":[],"processid":"io.point.stub_provider","processtype":{"name":"io.point.stub_provider","version":"io.point.stub_provider:1:34"}}},"checksum":"C08B48BCE8DCB2FE5AA7117150C0773BF335AE6A2E012351D41210DD06570406L655"},{"_id":{"$oid":"56798e922700007802cfc2c9"},"id":"56798e922700007802cfc2c9","owner":{},"recType":"app","name":"Software Dossier Data","desc":"NEW CREATED","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807113491,"createDate":{"$date":1450806930806},"updateDate":{"$date":1450807113491},"origin":{"id":"56798e922700007802cfc2c9","name":"Software Data Fact","desc":"NEW CREATED","creatorId":"tpanagos@point.io","createDate":1450806930806,"checksum":"CD2B27B478D417D708C4D904C84BE69F54FEB60EDF996744F801FEFA654F466BL655"},"data":{"facts":{},"query":"[\n  {\n    \"$match\": {\n      \"data.vars.user\": \"$$objId\",\n      \"data.recordType\": \"$$objTypeId\"\n    }\n  }\n]","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"56797ab8430000100aeaa021","formname":"poi_default_view"},{"taskname":"Type 1","taskkey":"poi_type1_view","formid":"56797ab8430000100aeaa021","formname":"poi_type1_view"},{"taskname":"Type 2","taskkey":"poi_type2_view","formid":"56797ab8430000100aeaa021","formname":"poi_type2_view"}],"providers":[],"processid":"io.point.stub_provider","processtype":{"name":"io.point.stub_provider","version":"io.point.stub_provider:1:34"}}},"checksum":"CD2B27B478D417D708C4D904C84BE69F54FEB60EDF996744F801FEFA654F466BL655"},{"_id":{"$oid":"56798a992700007701cfc22c"},"id":"56798a992700007701cfc22c","owner":{},"recType":"app","name":"Photo APIdoc Fact","desc":"New version of APIDoc Fact that allows for both Share & Content directives for photo section of Comcast User Profile","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807076951,"createDate":{"$date":1450805913894},"updateDate":{"$date":1450807076951},"origin":{"id":"567318b12e0000a01356f105","name":"APIDoc Shares & Content Provider","desc":"New version of APIDoc Fact that allows for both Share & Content directives for Comcast User Profile","creatorId":"tpanagos@point.io","createDate":1450805913894,"checksum":"EFF44C8F58DEA549EBEA4800EBDB86C5BCC7D1497FED00B1D1CEE74B9FD50D96L454"},"data":{"facts":{},"query":"","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"567985862700007300cfc18f","formname":"poi_default_view"},{"taskname":"Shares","taskkey":"poi_shareslist_view","formid":"567985862700007300cfc18f","formname":"poi_shareslist_view"}],"providers":[],"processid":"io.point.APIdocShare_provider","processtype":{"name":"io.point.APIdocShare_provider","version":"io.point.APIdocShare_provider:1:26"}}},"checksum":"01E1F47A82D88673252B11418B60F850D0E9112F7D6B4F2E1CF6262A422DE78FL449"},{"_id":{"$oid":"56798a992700008401cfc22e"},"id":"56798a992700008401cfc22e","owner":{},"recType":"app","name":"Files APIdoc Fact","desc":"New version of APIDoc Fact that allows for both Share & Content directives for file section of Comcast User Profile","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807087905,"createDate":{"$date":1450805913952},"updateDate":{"$date":1450807087905},"origin":{"id":"567318b1370000791396b6cc","name":"APIDoc Shares & Content Provider","desc":"New version of APIDoc Fact that allows for both Share & Content directives for Comcast User Profile","creatorId":"tpanagos@point.io","createDate":1450805913952,"checksum":"D78B96BD81D1396E6A47AF2E3EC8BAF2ACA3CBC5A9CD81DC1C095487E1C24201L455"},"data":{"facts":{},"query":"","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"56797ab7430000110aeaa00f","formname":"poi_default_view"},{"taskname":"Shares","taskkey":"poi_shareslist_view","formid":"56797ab7430000110aeaa00f","formname":"poi_shareslist_view"}],"providers":[],"processid":"io.point.APIdocShare_provider","processtype":{"name":"io.point.APIdocShare_provider","version":"io.point.APIdocShare_provider:1:26"}}},"checksum":"7831A9EBA7083F241AABE223B3F61ABF1604F304E8DF8359311CDF154D518935L449"},{"_id":{"$oid":"56798ee72700007a02cfc2d5"},"id":"56798ee72700007a02cfc2d5","owner":{},"recType":"app","name":"Hardware Dossier Data","desc":"NEW CREATED","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807105693,"createDate":{"$date":1450807015028},"updateDate":{"$date":1450807105693},"origin":{"id":"56798ee72700007a02cfc2d5","name":"Hardware Data Fact","desc":"NEW CREATED","creatorId":"tpanagos@point.io","createDate":1450807015028,"checksum":"8BB1775B3974DBEEFF0F6DBDE1122A1675901EFD6B7A4209F3FC06DE42B877D8L655"},"data":{"facts":{},"query":"[\n  {\n    \"$match\": {\n      \"data.vars.user\": \"$$objId\",\n      \"data.recordType\": \"$$objTypeId\"\n    }\n  }\n]","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"56797ab8430000100aeaa01f","formname":"poi_default_view"},{"taskname":"Type 1","taskkey":"poi_type1_view","formid":"56797ab8430000100aeaa01f","formname":"poi_type1_view"},{"taskname":"Type 2","taskkey":"poi_type2_view","formid":"56797ab8430000100aeaa01f","formname":"poi_type2_view"}],"providers":[],"processid":"io.point.stub_provider","processtype":{"name":"io.point.stub_provider","version":"io.point.stub_provider:1:34"}}},"checksum":"8BB1775B3974DBEEFF0F6DBDE1122A1675901EFD6B7A4209F3FC06DE42B877D8L655"},{"_id":{"$oid":"56798a9a2700008401cfc232"},"id":"56798a9a2700008401cfc232","owner":{},"recType":"app","name":"Address Dossier Data","desc":"Dossier Fact parameterized to return address data","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807141765,"createDate":{"$date":1450805914078},"updateDate":{"$date":1450807141765},"origin":{"id":"567318b1370000761396b6ce","name":"dossier retrieval 2.0","desc":"Dossier Fact parameterized to return misc, address, or password data","creatorId":"tpanagos@point.io","createDate":1450805914078,"checksum":"1F0D9A1485009570F2013A3A9F184438719C7594A5A821D2154BE2E062015A3FL660"},"data":{"facts":{},"query":"[\n  {\n    \"$match\": {\n      \"data.vars.user\": \"$$objId\",\n      \"data.recordType\": \"$$objTypeId\"\n    }\n  }\n]","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"567985862700006e00cfc19b","formname":"poi_default_view"},{"taskname":"Type 1","taskkey":"poi_type1_view","formid":"567985862700006e00cfc19b","formname":"poi_type1_view"},{"taskname":"Type 2","taskkey":"poi_type2_view","formid":"567985862700006e00cfc19b","formname":"poi_type2_view"}],"providers":[],"processid":"io.point.stub_provider","processtype":{"name":"io.point.stub_provider","version":"io.point.stub_provider:1:34"}}},"checksum":"60E4E2BCC8522DAE698E465C81CC976E8C966342D8F22EA979A91B86B44B72E8L655"},{"_id":{"$oid":"56798a9a2700008901cfc234"},"id":"56798a9a2700008901cfc234","owner":{},"recType":"app","name":"Personal Dossier Data","desc":"Dossier Fact parameterized to return personal data","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450807123265,"createDate":{"$date":1450805914139},"updateDate":{"$date":1450807123265},"origin":{"id":"567318b12e0000a01356f109","name":"dossier retrieval 2.0","desc":"Dossier Fact parameterized to return misc, address, or password data","creatorId":"tpanagos@point.io","createDate":1450805914139,"checksum":"FF772671E6FADFAFB4E0AFBB9AC6E96A94ECECEB3B5210B10146C2A7CEA30DDEL660"},"data":{"facts":{},"query":"[\n  {\n    \"$match\": {\n      \"data.vars.user\": \"$$objId\",\n      \"data.recordType\": \"$$objTypeId\"\n    }\n  }\n]","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"56797ab8430000100aeaa023","formname":"poi_default_view"},{"taskname":"Type 1","taskkey":"poi_type1_view","formid":"56797ab8430000100aeaa023","formname":"poi_type1_view"},{"taskname":"Type 2","taskkey":"poi_type2_view","formid":"56797ab8430000100aeaa023","formname":"poi_type2_view"}],"providers":[],"processid":"io.point.stub_provider","processtype":{"name":"io.point.stub_provider","version":"io.point.stub_provider:1:34"}}},"checksum":"86F272BF27DE8BB0ACCDC4BD5F98382B66698810E5064A5B32B4751CC7714DC6L655"},{"_id":{"$oid":"56798a9a2700008901cfc236"},"id":"56798a9a2700008901cfc236","owner":{},"recType":"app","name":"ActiveDirectory Fact Provider","desc":"Fact provider for Listing and Reading user info from Active Directory","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805914199,"createDate":{"$date":1450805914199},"origin":{"id":"567318b2370000761396b6d0","name":"ActiveDirectory Fact Provider","desc":"Fact provider for Listing and Reading user info from Active Directory","creatorId":"tpanagos@point.io","createDate":1450805914199,"checksum":"1BFABAE79B6560BE5AA3C70D19086F5C8B40B2D4B7FD246B81FF321FEA25953FL463"},"data":{"facts":{},"query":"","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"56798a992700007701cfc224","formname":"poi_default_view"},{"taskname":"User Profile","taskkey":"poi_profile_view","formid":"56798a992700008401cfc226","formname":"poi_profile_view"}],"providers":[],"processid":"io.point.ActiveDirectory_provider","processtype":{"name":"io.point.ActiveDirectory_provider","version":"io.point.ActiveDirectory_provider:1:2511"}}},"checksum":"1BFABAE79B6560BE5AA3C70D19086F5C8B40B2D4B7FD246B81FF321FEA25953FL463"},{"_id":{"$oid":"56798a9a2700008901cfc236"},"id":"56798a9a2700008901cfc236","owner":{},"recType":"app","name":"ActiveDirectory Fact Provider","desc":"Fact provider for Listing and Reading user info from Active Directory","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805914199,"createDate":{"$date":1450805914199},"origin":{"id":"567318b2370000761396b6d0","name":"ActiveDirectory Fact Provider","desc":"Fact provider for Listing and Reading user info from Active Directory","creatorId":"tpanagos@point.io","createDate":1450805914199,"checksum":"1BFABAE79B6560BE5AA3C70D19086F5C8B40B2D4B7FD246B81FF321FEA25953FL463"},"data":{"facts":{},"query":"","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"56798a992700007701cfc224","formname":"poi_default_view"},{"taskname":"User Profile","taskkey":"poi_profile_view","formid":"56798a992700008401cfc226","formname":"poi_profile_view"}],"providers":[],"processid":"io.point.ActiveDirectory_provider","processtype":{"name":"io.point.ActiveDirectory_provider","version":"io.point.ActiveDirectory_provider:1:2511"}}},"checksum":"1BFABAE79B6560BE5AA3C70D19086F5C8B40B2D4B7FD246B81FF321FEA25953FL463"}],"flows":[{"PROCESSTYPE":{"id":"com.comcast.ExecutiveSupport:1:270","name":"Comcast Executive Support","key":"com.comcast.ExecutiveSupport","category":"http://www.activiti.org/test","description":null,"resourceName":"bpmn","deploymentId":"267","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"io.point","BPMNXML":"<definitions typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\" xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\">\n    <message id=\"injectListJSON\" name=\"injectListJSON\"/>\n    <process id=\"com.comcast.ExecutiveSupport\" name=\"Comcast Executive Support\" isExecutable=\"true\">\n        <startEvent id=\"start\" name=\"ExecutiveRequestFlow\"/>\n        <serviceTask id=\"servicetask6\" name=\"List AD Entries\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_ListADProfile_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${ADListMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <userTask id=\"usertask1\" name=\"Select User\" activiti:assignee=\"${wf_currentAssignee}\" activiti:formKey=\"poi_select_form\"/>\n        <serviceTask id=\"serviceTask2\" name=\"Get AD data from GUID\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetADProfile_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${ADReadMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <userTask id=\"userTask5\" name=\"Help Desk UI\" activiti:assignee=\"${wf_currentAssignee}\" activiti:formKey=\"poi_HelpDeskUI_form\"/>\n        <boundaryEvent id=\"boundarymessage6\" name=\"Message\" attachedToRef=\"userTask5\" cancelActivity=\"false\">\n            <messageEventDefinition messageRef=\"injectListJSON\"/>\n        </boundaryEvent>\n        <sequenceFlow id=\"flow7\" sourceRef=\"userTask5\" targetRef=\"end\"/>\n        <endEvent id=\"end\" name=\"end\"/>\n        <serviceTask id=\"servicetask1\" name=\"Get Dossier Data\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetDossierData_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${DossierMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <serviceTask id=\"servicetask2\" name=\"Get Address Data\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetAddressData_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${AddressMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <serviceTask id=\"servicetask3\" name=\"Get Hardware Data\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetHardData_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${HardwareMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <sequenceFlow id=\"flow9\" sourceRef=\"servicetask1\" targetRef=\"servicetask2\"/>\n        <sequenceFlow id=\"flow10\" sourceRef=\"servicetask2\" targetRef=\"servicetask3\"/>\n        <sequenceFlow id=\"flow11\" sourceRef=\"servicetask3\" targetRef=\"servicetask7\"/>\n        <serviceTask id=\"servicetask4\" name=\"Get Files\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetFilesData_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${FilesFolderMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <serviceTask id=\"servicetask5\" name=\"Get Photos\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetPhotos_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${PhotosFolderMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <sequenceFlow id=\"flow12\" sourceRef=\"servicetask4\" targetRef=\"servicetask5\"/>\n        <sequenceFlow id=\"flow13\" sourceRef=\"servicetask5\" targetRef=\"userTask5\"/>\n        <sequenceFlow id=\"flow14\" sourceRef=\"start\" targetRef=\"servicetask6\"/>\n        <sequenceFlow id=\"flow15\" sourceRef=\"serviceTask2\" targetRef=\"servicetask1\"/>\n        <sequenceFlow id=\"flow17\" sourceRef=\"servicetask6\" targetRef=\"usertask1\"/>\n        <sequenceFlow id=\"flow18\" sourceRef=\"usertask1\" targetRef=\"serviceTask2\"/>\n        <serviceTask id=\"servicetask7\" name=\"Get Software Data\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetSoftData_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${SoftwareMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <serviceTask id=\"servicetask8\" name=\"Get Password Data\" activiti:class=\"plugins.facts\">\n            <extensionElements>\n                <activiti:field name=\"PluginKey\">\n                    <activiti:string>poi_GetPwdData_fact</activiti:string>\n                </activiti:field>\n                <activiti:field name=\"parameterMap\">\n                    <activiti:expression>${PasswordMap}</activiti:expression>\n                </activiti:field>\n            </extensionElements>\n        </serviceTask>\n        <sequenceFlow id=\"flow19\" sourceRef=\"servicetask7\" targetRef=\"servicetask8\"/>\n        <sequenceFlow id=\"flow20\" sourceRef=\"servicetask8\" targetRef=\"servicetask4\"/>\n    </process>\n    <bpmndi:BPMNDiagram id=\"BPMNDiagram_com.comcast.ExecutiveSupport\">\n        <bpmndi:BPMNPlane bpmnElement=\"com.comcast.ExecutiveSupport\" id=\"BPMNPlane_com.comcast.ExecutiveSupport\">\n            <bpmndi:BPMNShape bpmnElement=\"start\" id=\"BPMNShape_start\">\n                <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"120.0\" y=\"21.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask6\" id=\"BPMNShape_servicetask6\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"190.0\" y=\"9.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"330.0\" y=\"7.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"serviceTask2\" id=\"BPMNShape_serviceTask2\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"470.0\" y=\"8.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"userTask5\" id=\"BPMNShape_userTask5\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"1020.0\" y=\"8.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"boundarymessage6\" id=\"BPMNShape_boundarymessage6\">\n                <omgdc:Bounds height=\"30.0\" width=\"30.0\" x=\"1085.0\" y=\"53.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"end\" id=\"BPMNShape_end\">\n                <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"1150.0\" y=\"21.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask1\" id=\"BPMNShape_servicetask1\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"611.0\" y=\"8.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask2\" id=\"BPMNShape_servicetask2\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"611.0\" y=\"90.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask3\" id=\"BPMNShape_servicetask3\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"611.0\" y=\"172.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask4\" id=\"BPMNShape_servicetask4\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"750.0\" y=\"7.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask5\" id=\"BPMNShape_servicetask5\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"880.0\" y=\"7.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask7\" id=\"BPMNShape_servicetask7\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"610.0\" y=\"250.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNShape bpmnElement=\"servicetask8\" id=\"BPMNShape_servicetask8\">\n                <omgdc:Bounds height=\"60.0\" width=\"100.0\" x=\"610.0\" y=\"330.0\"/>\n            </bpmndi:BPMNShape>\n            <bpmndi:BPMNEdge bpmnElement=\"flow7\" id=\"BPMNEdge_flow7\">\n                <omgdi:waypoint x=\"1120.0\" y=\"38.0\"/>\n                <omgdi:waypoint x=\"1150.0\" y=\"38.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow9\" id=\"BPMNEdge_flow9\">\n                <omgdi:waypoint x=\"661.0\" y=\"68.0\"/>\n                <omgdi:waypoint x=\"661.0\" y=\"90.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow10\" id=\"BPMNEdge_flow10\">\n                <omgdi:waypoint x=\"661.0\" y=\"150.0\"/>\n                <omgdi:waypoint x=\"661.0\" y=\"172.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow11\" id=\"BPMNEdge_flow11\">\n                <omgdi:waypoint x=\"661.0\" y=\"232.0\"/>\n                <omgdi:waypoint x=\"660.0\" y=\"250.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow12\" id=\"BPMNEdge_flow12\">\n                <omgdi:waypoint x=\"850.0\" y=\"37.0\"/>\n                <omgdi:waypoint x=\"880.0\" y=\"37.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n                <omgdi:waypoint x=\"980.0\" y=\"37.0\"/>\n                <omgdi:waypoint x=\"1020.0\" y=\"38.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow14\" id=\"BPMNEdge_flow14\">\n                <omgdi:waypoint x=\"155.0\" y=\"38.0\"/>\n                <omgdi:waypoint x=\"190.0\" y=\"39.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow15\" id=\"BPMNEdge_flow15\">\n                <omgdi:waypoint x=\"570.0\" y=\"38.0\"/>\n                <omgdi:waypoint x=\"611.0\" y=\"38.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow17\" id=\"BPMNEdge_flow17\">\n                <omgdi:waypoint x=\"290.0\" y=\"39.0\"/>\n                <omgdi:waypoint x=\"330.0\" y=\"37.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n                <omgdi:waypoint x=\"430.0\" y=\"37.0\"/>\n                <omgdi:waypoint x=\"470.0\" y=\"38.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow19\" id=\"BPMNEdge_flow19\">\n                <omgdi:waypoint x=\"660.0\" y=\"310.0\"/>\n                <omgdi:waypoint x=\"660.0\" y=\"330.0\"/>\n            </bpmndi:BPMNEdge>\n            <bpmndi:BPMNEdge bpmnElement=\"flow20\" id=\"BPMNEdge_flow20\">\n                <omgdi:waypoint x=\"710.0\" y=\"360.0\"/>\n                <omgdi:waypoint x=\"798.0\" y=\"358.0\"/>\n                <omgdi:waypoint x=\"800.0\" y=\"67.0\"/>\n            </bpmndi:BPMNEdge>\n        </bpmndi:BPMNPlane>\n    </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.stub_provider:1:34","name":"Stub Fact Provider Flow","key":"io.point.stub_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/stub_provider.bpmn","deploymentId":"31","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.stub_provider\" name=\"Stub Fact Provider Flow\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"Type 1\" activiti:formKey=\"poi_type1_view\"></userTask>\n    <userTask id=\"usertask3\" name=\"Type 2\" activiti:formKey=\"poi_type2_view\"></userTask>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.Docusign_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.Docusign_provider\" id=\"BPMNPlane_io.point.Docusign_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"220.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"290.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask3\" id=\"BPMNShape_usertask3\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"360.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"12.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.stub_provider:1:34","name":"Stub Fact Provider Flow","key":"io.point.stub_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/stub_provider.bpmn","deploymentId":"31","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.stub_provider\" name=\"Stub Fact Provider Flow\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"Type 1\" activiti:formKey=\"poi_type1_view\"></userTask>\n    <userTask id=\"usertask3\" name=\"Type 2\" activiti:formKey=\"poi_type2_view\"></userTask>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.Docusign_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.Docusign_provider\" id=\"BPMNPlane_io.point.Docusign_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"220.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"290.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask3\" id=\"BPMNShape_usertask3\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"360.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"12.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.APIdocShare_provider:1:26","name":"io.point.APIdocShare_provider","key":"io.point.APIdocShare_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/apidoc_provider.bpmn","deploymentId":"23","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.APIdocShare_provider\" name=\"io.point.APIdocShare_provider\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <serviceTask id=\"task1\" name=\"List Objects\" activiti:class=\"plugins.fact_components.api_APIdocShare_List_Objs\">\n      <extensionElements>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <serviceTask id=\"task2\" name=\"List Records\" activiti:class=\"plugins.fact_components.api_APIdocShare_List_Recs\">\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"flow12\" name=\"GETOBJS\" sourceRef=\"exclusivegateway1\" targetRef=\"task1\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GETOBJS\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow13\" name=\"GETRECS\" sourceRef=\"exclusivegateway1\" targetRef=\"task2\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GETRECS\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow18\" sourceRef=\"task2\" targetRef=\"endevent1\"></sequenceFlow>\n    <sequenceFlow id=\"flow19\" sourceRef=\"task1\" targetRef=\"endevent1\"></sequenceFlow>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"Shares\" activiti:formKey=\"poi_shareslist_view\"></userTask>\n    <serviceTask id=\"servicetask1\" name=\"Read Object List\" activiti:class=\"plugins.fact_components.api_APIdocShare_Read_Obj_toFields\">\n      <documentation>This might return an Array of folder contents.</documentation>\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"objId\">\n          <activiti:expression><![CDATA[${objId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"containerid\">\n          <activiti:expression><![CDATA[${containerid}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"path\">\n          <activiti:expression><![CDATA[${path}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow20\" name=\"GET\" sourceRef=\"exclusivegateway1\" targetRef=\"servicetask1\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GET\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow21\" sourceRef=\"servicetask1\" targetRef=\"endevent1\"></sequenceFlow>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.APIdocShare_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.APIdocShare_provider\" id=\"BPMNPlane_io.point.APIdocShare_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"task1\" id=\"BPMNShape_task1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"209.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"task2\" id=\"BPMNShape_task2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"280.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"370.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"440.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"servicetask1\" id=\"BPMNShape_servicetask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"80.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow12\" id=\"BPMNEdge_flow12\">\n        <omgdi:waypoint x=\"170.0\" y=\"201.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"169.0\" y=\"236.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"236.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"52.0\" x=\"180.0\" y=\"219.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n        <omgdi:waypoint x=\"170.0\" y=\"201.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"169.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"307.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"53.0\" x=\"180.0\" y=\"289.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n        <omgdi:waypoint x=\"435.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"199.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow19\" id=\"BPMNEdge_flow19\">\n        <omgdi:waypoint x=\"435.0\" y=\"236.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"236.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"199.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow20\" id=\"BPMNEdge_flow20\">\n        <omgdi:waypoint x=\"170.0\" y=\"161.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"170.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"107.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"100.0\" x=\"179.0\" y=\"95.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow21\" id=\"BPMNEdge_flow21\">\n        <omgdi:waypoint x=\"435.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"164.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.APIdocShare_provider:1:26","name":"io.point.APIdocShare_provider","key":"io.point.APIdocShare_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/apidoc_provider.bpmn","deploymentId":"23","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.APIdocShare_provider\" name=\"io.point.APIdocShare_provider\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <serviceTask id=\"task1\" name=\"List Objects\" activiti:class=\"plugins.fact_components.api_APIdocShare_List_Objs\">\n      <extensionElements>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <serviceTask id=\"task2\" name=\"List Records\" activiti:class=\"plugins.fact_components.api_APIdocShare_List_Recs\">\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"flow12\" name=\"GETOBJS\" sourceRef=\"exclusivegateway1\" targetRef=\"task1\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GETOBJS\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow13\" name=\"GETRECS\" sourceRef=\"exclusivegateway1\" targetRef=\"task2\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GETRECS\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow18\" sourceRef=\"task2\" targetRef=\"endevent1\"></sequenceFlow>\n    <sequenceFlow id=\"flow19\" sourceRef=\"task1\" targetRef=\"endevent1\"></sequenceFlow>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"Shares\" activiti:formKey=\"poi_shareslist_view\"></userTask>\n    <serviceTask id=\"servicetask1\" name=\"Read Object List\" activiti:class=\"plugins.fact_components.api_APIdocShare_Read_Obj_toFields\">\n      <documentation>This might return an Array of folder contents.</documentation>\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"objId\">\n          <activiti:expression><![CDATA[${objId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"containerid\">\n          <activiti:expression><![CDATA[${containerid}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"path\">\n          <activiti:expression><![CDATA[${path}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow20\" name=\"GET\" sourceRef=\"exclusivegateway1\" targetRef=\"servicetask1\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GET\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow21\" sourceRef=\"servicetask1\" targetRef=\"endevent1\"></sequenceFlow>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.APIdocShare_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.APIdocShare_provider\" id=\"BPMNPlane_io.point.APIdocShare_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"task1\" id=\"BPMNShape_task1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"209.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"task2\" id=\"BPMNShape_task2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"280.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"370.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"440.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"servicetask1\" id=\"BPMNShape_servicetask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"80.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow12\" id=\"BPMNEdge_flow12\">\n        <omgdi:waypoint x=\"170.0\" y=\"201.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"169.0\" y=\"236.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"236.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"52.0\" x=\"180.0\" y=\"219.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n        <omgdi:waypoint x=\"170.0\" y=\"201.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"169.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"307.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"53.0\" x=\"180.0\" y=\"289.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n        <omgdi:waypoint x=\"435.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"199.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow19\" id=\"BPMNEdge_flow19\">\n        <omgdi:waypoint x=\"435.0\" y=\"236.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"236.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"199.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow20\" id=\"BPMNEdge_flow20\">\n        <omgdi:waypoint x=\"170.0\" y=\"161.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"170.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"107.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"100.0\" x=\"179.0\" y=\"95.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow21\" id=\"BPMNEdge_flow21\">\n        <omgdi:waypoint x=\"435.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"164.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.stub_provider:1:34","name":"Stub Fact Provider Flow","key":"io.point.stub_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/stub_provider.bpmn","deploymentId":"31","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.stub_provider\" name=\"Stub Fact Provider Flow\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"Type 1\" activiti:formKey=\"poi_type1_view\"></userTask>\n    <userTask id=\"usertask3\" name=\"Type 2\" activiti:formKey=\"poi_type2_view\"></userTask>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.Docusign_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.Docusign_provider\" id=\"BPMNPlane_io.point.Docusign_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"220.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"290.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask3\" id=\"BPMNShape_usertask3\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"360.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"12.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.stub_provider:1:34","name":"Stub Fact Provider Flow","key":"io.point.stub_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/stub_provider.bpmn","deploymentId":"31","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.stub_provider\" name=\"Stub Fact Provider Flow\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"Type 1\" activiti:formKey=\"poi_type1_view\"></userTask>\n    <userTask id=\"usertask3\" name=\"Type 2\" activiti:formKey=\"poi_type2_view\"></userTask>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.Docusign_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.Docusign_provider\" id=\"BPMNPlane_io.point.Docusign_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"220.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"290.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask3\" id=\"BPMNShape_usertask3\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"360.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"12.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.stub_provider:1:34","name":"Stub Fact Provider Flow","key":"io.point.stub_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/stub_provider.bpmn","deploymentId":"31","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.stub_provider\" name=\"Stub Fact Provider Flow\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"Type 1\" activiti:formKey=\"poi_type1_view\"></userTask>\n    <userTask id=\"usertask3\" name=\"Type 2\" activiti:formKey=\"poi_type2_view\"></userTask>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.Docusign_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.Docusign_provider\" id=\"BPMNPlane_io.point.Docusign_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"220.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"290.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask3\" id=\"BPMNShape_usertask3\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"360.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"12.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.ActiveDirectory_provider:1:18","name":"io.point.ActiveDirectory_provider","key":"io.point.ActiveDirectory_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/activedirectory_provider.bpmn","deploymentId":"15","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.ActiveDirectory_provider\" name=\"io.point.ActiveDirectory_provider\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <serviceTask id=\"task2\" name=\"List Records\" activiti:class=\"plugins.fact_components.api_AD_List_Recs\">\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"flow13\" name=\"GETRECS\" sourceRef=\"exclusivegateway1\" targetRef=\"task2\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GETRECS\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow18\" sourceRef=\"task2\" targetRef=\"endevent1\"></sequenceFlow>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"User Profile\" activiti:formKey=\"poi_profile_view\"></userTask>\n    <serviceTask id=\"servicetask1\" name=\"Read Record\" activiti:class=\"plugins.fact_components.api_AD_Read_Obj_toFields\">\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"objId\">\n          <activiti:expression><![CDATA[${objId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow20\" name=\"GET\" sourceRef=\"exclusivegateway1\" targetRef=\"servicetask1\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GET\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow21\" sourceRef=\"servicetask1\" targetRef=\"endevent1\"></sequenceFlow>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.ActiveDirectory_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.ActiveDirectory_provider\" id=\"BPMNPlane_io.point.ActiveDirectory_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"task2\" id=\"BPMNShape_task2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"280.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"370.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"440.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"servicetask1\" id=\"BPMNShape_servicetask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"80.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n        <omgdi:waypoint x=\"170.0\" y=\"201.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"169.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"307.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"53.0\" x=\"180.0\" y=\"289.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n        <omgdi:waypoint x=\"435.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"199.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow20\" id=\"BPMNEdge_flow20\">\n        <omgdi:waypoint x=\"170.0\" y=\"161.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"170.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"107.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"23.0\" x=\"179.0\" y=\"95.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow21\" id=\"BPMNEdge_flow21\">\n        <omgdi:waypoint x=\"435.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"164.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}},{"PROCESSTYPE":{"id":"io.point.ActiveDirectory_provider:1:18","name":"io.point.ActiveDirectory_provider","key":"io.point.ActiveDirectory_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/activedirectory_provider.bpmn","deploymentId":"15","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.ActiveDirectory_provider\" name=\"io.point.ActiveDirectory_provider\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <serviceTask id=\"task2\" name=\"List Records\" activiti:class=\"plugins.fact_components.api_AD_List_Recs\">\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"flow13\" name=\"GETRECS\" sourceRef=\"exclusivegateway1\" targetRef=\"task2\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GETRECS\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow18\" sourceRef=\"task2\" targetRef=\"endevent1\"></sequenceFlow>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n    <userTask id=\"usertask2\" name=\"User Profile\" activiti:formKey=\"poi_profile_view\"></userTask>\n    <serviceTask id=\"servicetask1\" name=\"Read Record\" activiti:class=\"plugins.fact_components.api_AD_Read_Obj_toFields\">\n      <extensionElements>\n        <activiti:field name=\"objTypeId\">\n          <activiti:expression><![CDATA[${objTypeId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"objId\">\n          <activiti:expression><![CDATA[${objId}]]></activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"serverURL\">\n          <activiti:expression><![CDATA[${serverURL}]]></activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow20\" name=\"GET\" sourceRef=\"exclusivegateway1\" targetRef=\"servicetask1\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GET\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow21\" sourceRef=\"servicetask1\" targetRef=\"endevent1\"></sequenceFlow>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.ActiveDirectory_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.ActiveDirectory_provider\" id=\"BPMNPlane_io.point.ActiveDirectory_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"task2\" id=\"BPMNShape_task2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"280.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"370.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask2\" id=\"BPMNShape_usertask2\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"440.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"servicetask1\" id=\"BPMNShape_servicetask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"330.0\" y=\"80.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow13\" id=\"BPMNEdge_flow13\">\n        <omgdi:waypoint x=\"170.0\" y=\"201.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"169.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"307.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"53.0\" x=\"180.0\" y=\"289.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow18\" id=\"BPMNEdge_flow18\">\n        <omgdi:waypoint x=\"435.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"307.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"199.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow20\" id=\"BPMNEdge_flow20\">\n        <omgdi:waypoint x=\"170.0\" y=\"161.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"170.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"330.0\" y=\"107.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"13.0\" width=\"23.0\" x=\"179.0\" y=\"95.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow21\" id=\"BPMNEdge_flow21\">\n        <omgdi:waypoint x=\"435.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"107.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"164.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}}],"forms":[{"_id":{"$oid":"567873f14300005b03ea9e79"},"id":"567873f14300005b03ea9e79","owner":{},"recType":"app","name":"Submit or Cancel","desc":"Recently Converted Form Record","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450734577066,"createDate":{"$date":1450734577066},"origin":{"id":"567318b0370000791396b6b8","name":"Submit or Cancel","desc":"Recently Converted Form Record","creatorId":"tpanagos@point.io","createDate":1450734577066,"checksum":"92F9D7C69F036F030F138380F752693FF80340FFF3F1CC822D2BC73729AC1FE1L4341"},"data":{"form":"    <script>\n        //Add Extensions to the IndexController Behavior Here with the Controller.reopen method.//\n        window.App.IndexController.reopen({\n            messageBlock: \"\",\n            isHistoryOpen: false,\n            messageHistory: function(mystage, questionIdx) {\n                var history = this.get(\"model.HISTORY\");\n                var myMsgBlock = this.get(\"messageBlock\") + '<ul>';\n                history.forEach( function(item) {\n                    myMsgBlock = myMsgBlock + '<li>Task#&nbsp;' + item.ID + '&nbsp;&nbsp;' + item.LABEL + ':&nbsp;' + item.DESCRIPTION + '&nbsp;Status&nbsp;' + item.STATUS + '</li>';\n                });\n                myMsgBlock = myMsgBlock + '</ul>';\n\n                this.set(\"messageBlock\", myMsgBlock);\n                var d = $('.history-content');\n                d.scrollTop(d.prop(\"scrollHeight\"));\n                return myMsgBlock;\n            }.property(\"model.HISTORY\"),\n            actions: {\n                // submitAction: function(source) {\n                //       this.get('controller.relatedsViewInstance').send('submitAction', source);\n                //       $('#emberForm').submit();\n                //   },\n                cancelAction: function() {\n                    $('[name=optionid]').val('reject');\n                    this.set(\"isSubmitting\", true );\n                    // here you could perform your actions like persisting to the server or so\n                    $('#emberForm').submit();\n                },\n                toggleHistory: function () {\n                    console.log(\"Current State: \" + this.get(\"isHistoryOpen\"));\n                    var historyState = this.get(\"isHistoryOpen\");\n                    if (historyState) {\n                        $('#openIcon').removeClass('glyphicon-expand').addClass('glyphicon-collapse-down');\n                    } else {\n                        $('#openIcon').removeClass('glyphicon-collapse-down').addClass('glyphicon-expand');\n                    }\n                    this.set(\"isHistoryOpen\", !historyState);\n                }\n            }\n        });\n    </script>\n    <script type=\"text/x-handlebars\" data-template-name=\"index\">\n        <div class=\"container\" class=\"form-horizontal\">\n            <div id=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div class=\"panel-heading\">\n                            <h3 class=\"panel-title\">Confirm</h3>\n                        </div>\n                    </div>\n                    <div align=\"center\">\n                        <button id=\"approve\" class=\"btn btn-success\" {{action 'submitAction' target=\"controller\"}}>Submit</button>\n                        <button id=\"reject\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>\n                    </div>\n                </div>\n            </div> <!-- content -->\n        </div> <!-- container -->\n        {{input type=\"hidden\" name=\"optionid\"}}\n    </script>\n<script type='text/javascript' src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/css/bootstrap-datetimepicker.css\">\n    <script type='text/javascript' src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/js/bootstrap-datetimepicker.js\"></script>\n<style>\n    div.show-image {\n        position: relative;\n        margin:5px;\n    }\n    div.show-image:hover img{\n        opacity:0.5;\n    }\n    div.show-image:hover input {\n        display: block;\n    }\n    div.show-image input {\n        position:absolute;\n        display:none;\n    }\n    div.show-image input.update {\n        top:83%;\n        left:0;\n    }\n    div.show-image input.delete {\n        top:0;\n        left:79%;\n    }\n    #collapseToggle > h3:before {\n        font-family: FontAwesome;\n        content: \"\\f078\";\n        padding-right: 5px;\n    }\n    #collapseToggle > h3.collapsed:before {\n        content: \"\\f054\";\n    }\n    input{\n        color:black;\n    }\n</style>\n"},"checksum":"92F9D7C69F036F030F138380F752693FF80340FFF3F1CC822D2BC73729AC1FE1L4341"},{"_id":{"$oid":"567873f14300005b03ea9e79"},"id":"567873f14300005b03ea9e79","owner":{},"recType":"app","name":"Submit or Cancel","desc":"Recently Converted Form Record","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450734577066,"createDate":{"$date":1450734577066},"origin":{"id":"567318b0370000791396b6b8","name":"Submit or Cancel","desc":"Recently Converted Form Record","creatorId":"tpanagos@point.io","createDate":1450734577066,"checksum":"92F9D7C69F036F030F138380F752693FF80340FFF3F1CC822D2BC73729AC1FE1L4341"},"data":{"form":"    <script>\n        //Add Extensions to the IndexController Behavior Here with the Controller.reopen method.//\n        window.App.IndexController.reopen({\n            messageBlock: \"\",\n            isHistoryOpen: false,\n            messageHistory: function(mystage, questionIdx) {\n                var history = this.get(\"model.HISTORY\");\n                var myMsgBlock = this.get(\"messageBlock\") + '<ul>';\n                history.forEach( function(item) {\n                    myMsgBlock = myMsgBlock + '<li>Task#&nbsp;' + item.ID + '&nbsp;&nbsp;' + item.LABEL + ':&nbsp;' + item.DESCRIPTION + '&nbsp;Status&nbsp;' + item.STATUS + '</li>';\n                });\n                myMsgBlock = myMsgBlock + '</ul>';\n\n                this.set(\"messageBlock\", myMsgBlock);\n                var d = $('.history-content');\n                d.scrollTop(d.prop(\"scrollHeight\"));\n                return myMsgBlock;\n            }.property(\"model.HISTORY\"),\n            actions: {\n                // submitAction: function(source) {\n                //       this.get('controller.relatedsViewInstance').send('submitAction', source);\n                //       $('#emberForm').submit();\n                //   },\n                cancelAction: function() {\n                    $('[name=optionid]').val('reject');\n                    this.set(\"isSubmitting\", true );\n                    // here you could perform your actions like persisting to the server or so\n                    $('#emberForm').submit();\n                },\n                toggleHistory: function () {\n                    console.log(\"Current State: \" + this.get(\"isHistoryOpen\"));\n                    var historyState = this.get(\"isHistoryOpen\");\n                    if (historyState) {\n                        $('#openIcon').removeClass('glyphicon-expand').addClass('glyphicon-collapse-down');\n                    } else {\n                        $('#openIcon').removeClass('glyphicon-collapse-down').addClass('glyphicon-expand');\n                    }\n                    this.set(\"isHistoryOpen\", !historyState);\n                }\n            }\n        });\n    </script>\n    <script type=\"text/x-handlebars\" data-template-name=\"index\">\n        <div class=\"container\" class=\"form-horizontal\">\n            <div id=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div class=\"panel-heading\">\n                            <h3 class=\"panel-title\">Confirm</h3>\n                        </div>\n                    </div>\n                    <div align=\"center\">\n                        <button id=\"approve\" class=\"btn btn-success\" {{action 'submitAction' target=\"controller\"}}>Submit</button>\n                        <button id=\"reject\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>\n                    </div>\n                </div>\n            </div> <!-- content -->\n        </div> <!-- container -->\n        {{input type=\"hidden\" name=\"optionid\"}}\n    </script>\n<script type='text/javascript' src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.js\"></script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/css/bootstrap-datetimepicker.css\">\n    <script type='text/javascript' src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/js/bootstrap-datetimepicker.js\"></script>\n<style>\n    div.show-image {\n        position: relative;\n        margin:5px;\n    }\n    div.show-image:hover img{\n        opacity:0.5;\n    }\n    div.show-image:hover input {\n        display: block;\n    }\n    div.show-image input {\n        position:absolute;\n        display:none;\n    }\n    div.show-image input.update {\n        top:83%;\n        left:0;\n    }\n    div.show-image input.delete {\n        top:0;\n        left:79%;\n    }\n    #collapseToggle > h3:before {\n        font-family: FontAwesome;\n        content: \"\\f078\";\n        padding-right: 5px;\n    }\n    #collapseToggle > h3.collapsed:before {\n        content: \"\\f054\";\n    }\n    input{\n        color:black;\n    }\n</style>\n"},"checksum":"92F9D7C69F036F030F138380F752693FF80340FFF3F1CC822D2BC73729AC1FE1L4341"},{"_id":{"$oid":"567985862700006700cfc197"},"id":"567985862700006700cfc197","owner":{},"recType":"app","name":"Password Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805313398,"createDate":{"$date":1450804614634},"updateDate":{"$date":1450805313398},"origin":{"id":"567873f14300006403ea9e85","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450804614634,"checksum":"71C077B7D51794CFD6C20DE0C167037EEDBE0F86DE938ADD77BF25AB3E20F733L29719"},"data":{"form":"<script type='text/javascript'>\n    App.PasswordController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Password:\");\n            console.log(facts);\n            console.log(this);\n            // $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n            //     webshims.setOptions('forms-ext', {types: 'date'});\n            //     webshims.polyfill('forms forms-ext');\n            //         $.webshims.formcfg = {\n            //         en: {\n            //             dFormat: '-',\n            //             dateSigns: '-',\n            //             patterns: {\n            //                 d: \"mm-dd-yy\"\n            //             }\n            //         }\n            //     };\n            // });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetPwdData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#pwd_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#pwd_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:35%'><img src='\" + opts.value + \"' style='width:100%; height:300px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 100%'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"password\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"pwd_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"71C077B7D51794CFD6C20DE0C167037EEDBE0F86DE938ADD77BF25AB3E20F733L29719"},{"_id":{"$oid":"567985862700006700cfc197"},"id":"567985862700006700cfc197","owner":{},"recType":"app","name":"Password Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805313398,"createDate":{"$date":1450804614634},"updateDate":{"$date":1450805313398},"origin":{"id":"567873f14300006403ea9e85","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450804614634,"checksum":"71C077B7D51794CFD6C20DE0C167037EEDBE0F86DE938ADD77BF25AB3E20F733L29719"},"data":{"form":"<script type='text/javascript'>\n    App.PasswordController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Password:\");\n            console.log(facts);\n            console.log(this);\n            // $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n            //     webshims.setOptions('forms-ext', {types: 'date'});\n            //     webshims.polyfill('forms forms-ext');\n            //         $.webshims.formcfg = {\n            //         en: {\n            //             dFormat: '-',\n            //             dateSigns: '-',\n            //             patterns: {\n            //                 d: \"mm-dd-yy\"\n            //             }\n            //         }\n            //     };\n            // });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetPwdData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#pwd_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#pwd_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:35%'><img src='\" + opts.value + \"' style='width:100%; height:300px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 100%'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"password\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"pwd_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"71C077B7D51794CFD6C20DE0C167037EEDBE0F86DE938ADD77BF25AB3E20F733L29719"},{"_id":{"$oid":"567985862700006700cfc197"},"id":"567985862700006700cfc197","owner":{},"recType":"app","name":"Password Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805313398,"createDate":{"$date":1450804614634},"updateDate":{"$date":1450805313398},"origin":{"id":"567873f14300006403ea9e85","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450804614634,"checksum":"71C077B7D51794CFD6C20DE0C167037EEDBE0F86DE938ADD77BF25AB3E20F733L29719"},"data":{"form":"<script type='text/javascript'>\n    App.PasswordController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Password:\");\n            console.log(facts);\n            console.log(this);\n            // $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n            //     webshims.setOptions('forms-ext', {types: 'date'});\n            //     webshims.polyfill('forms forms-ext');\n            //         $.webshims.formcfg = {\n            //         en: {\n            //             dFormat: '-',\n            //             dateSigns: '-',\n            //             patterns: {\n            //                 d: \"mm-dd-yy\"\n            //             }\n            //         }\n            //     };\n            // });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetPwdData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#pwd_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#pwd_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:35%'><img src='\" + opts.value + \"' style='width:100%; height:300px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 100%'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"password\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"pwd_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"71C077B7D51794CFD6C20DE0C167037EEDBE0F86DE938ADD77BF25AB3E20F733L29719"},{"_id":{"$oid":"56797ab8430000100aeaa021"},"id":"56797ab8430000100aeaa021","owner":{},"recType":"app","name":"Software Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450806779611,"createDate":{"$date":1450801848240},"updateDate":{"$date":1450806779611},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848240,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.SoftController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"soft\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"4D834777B67AA9C5D7CD3328362C5D1A8B85AF9315702926C58D098477FC56B2L29691"},{"_id":{"$oid":"56797ab8430000100aeaa021"},"id":"56797ab8430000100aeaa021","owner":{},"recType":"app","name":"Software Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450806779611,"createDate":{"$date":1450801848240},"updateDate":{"$date":1450806779611},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848240,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.SoftController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"soft\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"4D834777B67AA9C5D7CD3328362C5D1A8B85AF9315702926C58D098477FC56B2L29691"},{"_id":{"$oid":"56797ab8430000100aeaa021"},"id":"56797ab8430000100aeaa021","owner":{},"recType":"app","name":"Software Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450806779611,"createDate":{"$date":1450801848240},"updateDate":{"$date":1450806779611},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848240,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.SoftController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"soft\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"4D834777B67AA9C5D7CD3328362C5D1A8B85AF9315702926C58D098477FC56B2L29691"},{"_id":{"$oid":"567985862700007300cfc18f"},"id":"567985862700007300cfc18f","owner":{},"recType":"app","name":"Photo Data Template","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805796203,"createDate":{"$date":1450804614320},"updateDate":{"$date":1450805796203},"origin":{"id":"567873f14300005c03ea9e81","name":"APIdoc share and folder nav","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","createDate":1450804614320,"checksum":"4CF60C6AEB1FAFFEB3F065D82E0FCB73CF2D8F227CCBE63D78ABB670C17CB67CL23748"},"data":{"form":"<script type=\"text/javascript\">\n    var baseURL = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n\n    App.ImageController = Ember.Controller.extend({\n        facts: jsonTask.FACTS,\n        init: function () {\n            console.log(\"imageinit\");\n            // if we are doing a content view then skip the shareList view\n            if (this.get(\"params.objTypeId\") === \"Content\") {\n                this.set(\"showShareList\", false);\n                this.set(\"contentOnly\", true);\n                var headers = {\n                    Authorization: sessionKey\n                };\n                this.set(\"headers\", headers);\n                var params = this.get(\"params\");\n                console.log(facts);\n                console.log(this);\n                this.send(\"openShare\", params.sharename, params.sharetype, params.objId, params.path, params.containerid);\n            }\n        },\n        queryParams: {path: \"\", containerid: \"\"},\n        containerid: null,\n        path: null,\n        showShareList: true,\n        contentOnly: false,\n        bPopUp: null,\n        isFileListEmpty: true,\n        dataArray: function () {\n            var dA = Ember.A();\n            var raw = this.get(\"model\");\n            for (var i in raw) {\n                dA.pushObject(raw[i]);\n            }\n            return dA\n        }.property(\"model\"),\n        filelist: Ember.A(),\n        folderlist: Ember.A(),\n        folderstack: Ember.A(),\n        shares: function () {\n            return this.get(\"dataArray\");\n        }.property(\"dataArray\"),\n        newFolderName: \"\",\n        headers: {\n            Authorization: sessionKey\n        },\n        uploadURL: function () {\n            return baseURL + '/apidoc/files/upload/' + this.get('folderlist.shareid');\n        }.property('folderList.shareid'),\n        uploadFile: null,\n        isLoading: false,\n        isRoot: function() {\n            return (this.get(\"folderlist\").queryParams.path == \"\")\n        }.property(\"folderlist.queryParams.path\"),\n        actions: {\n            submitAction: function () {\n                this.set('isLoading', true);\n                var self = this;\n                // We really want to inject RELATEDS\n                var injectableFiles = [];\n                this.get(\"filelist\").forEach(function (file) {\n                    injectableFiles.pushObject({\n                        \"ID\": file.link,\n                        \"LABEL\": file.name,\n                        \"TOOLTIP\": \"file.label\",\n                        \"TYPE\": \"PIO\",\n                        \"URL\": \"http://api.point.io/ui-html5/LinkViewer/app.html?id=\" + file.link\n                    });\n                });\n                var injectableFacts = {\n                    'REQUEST': {\n                        'INPUT': {\n                            'RELATEDS': injectableFiles,\n                            'FIELDS': [],\n                            'FACTS': []\n                        }\n                    }\n                };\n                Ember.$.ajax({\n                    type: \"PUT\",\n                    async: true,\n                    url: baseURL + '/messages/injectListJSON/' + taskid + '?Authorization=' + sessionKey,\n                    data: JSON.stringify(injectableFacts),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    success: function (data) {\n                        self.set('isLoading', false);\n                        //$('#emberForm').submit();\n                    }\n                });\n                return true; //this bubbles the action up\n            },\n            addFile: function (share) {\n                this.set('isLoading', true);\n                var self = this;\n                //create a link\n                var linkURL = \"\";\n                //v3\n                var servercall = baseURL + \"/apidoc/links/create/\" + share.shareid + \"?Authorization=\" + sessionKey;\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {\n                        'containerid': share.containerid,\n                        'path': share.path,\n                        'fileid': share.fileid,\n                        'filename': share.name\n                    },\n                    url: servercall,\n                    success: function (data) {\n                        linkURL = data.RESPONSE.linkid;\n                        self.set('isLoading', false);\n                    }\n                });\n                //add it to the list\n                var fileArray = this.get(\"filelist\");\n                fileArray.pushObject({name: share.name, link: linkURL, label: share.name});\n                this.set(\"isFileListEmpty\", false);\n            },\n            removeFile: function (id) {\n                var fileList = this.get('filelist');\n                fileList.removeObject(id);\n                if (fileList.length == 0)\n                    this.set(\"isFileListEmpty\", true);\n            },\n            createFolderClickImg: function (shareid, containerid, path, modalId) {\n                console.log(\"Img folder\");\n                console.log(this);\n                var self = this;\n                this.set('isLoading', true);\n                var servercall = baseURL + \"/apidoc/folders/create/\" + shareid\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {'containerid': containerid, 'path': path, 'foldername': this.get('newFolderName')},\n                    url: servercall,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    cache: false,\n                    success: function (data) {\n                        self.send('modalFinished', modalId);\n                    }\n                });\n            },\n            modalFinished: function (modalId) {\n                $('#'+modalId).modal(\"hide\");\n                var thisFolder = this.get(\"folderlist\");\n                this.send('openShare', thisFolder.sharename, thisFolder.sharetype, thisFolder.shareid, thisFolder.queryParams.path, thisFolder.queryParams.containerid);\n                this.send('setLoading', false);\n            },\n            returnToSites: function() {\n                this.set('showShareList', true);\n            },\n            navigateToParent: function () {\n                if (this.get('folderstack').length == 0) {\n                    if (!this.get('contentOnly'))\n                    {\n                        this.send('returnToSites');\n                    }\n                }\n                else {\n                    var current = this.get('folderstack').pop();\n                    this.set('folderlist', current);\n                }\n            },\n            setLoading: function(state) {\n                this.set('isLoading', state);\n            },\n            openShare: function (sharename, sharetype, shareid, path, containerid) {\n                var self = this;\n                if (typeof containerid != 'undefined')\n                    self.set('containerid', containerid);\n                else\n                    self.set('containerid', \"\");\n                if (typeof path != 'undefined')\n                    self.set('path', path);\n                else\n                    self.set('path', \"\");\n                var queryParams = {path: self.get('path'), containerid: self.get('containerid')};\n                Ember.$.ajax({\n                    async: false,\n                    url: baseURL + '/apidoc/folders/list/' + shareid,\n                    data: queryParams,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    success: function (data) {\n                        var sharesList = Ember.A();\n                        (data.RESPONSE.RESULT.forEach(function (share) {\n                            share.isDir = (share.type === 'DIR');\n                            var params = [];\n                            if (share.path) {\n                                params.push('path=' + encodeURIComponent(share.path))\n                            }\n                            if (share.containerid) {\n                                params.push('containerid=' + encodeURIComponent(share.containerid))\n                            }\n                            if (share.fileid) {\n                                params.push('fileid=' + encodeURIComponent(share.fileid))\n                            }\n                            if (share.name) {\n                                params.push('filename=' + encodeURIComponent(share.name))\n                            }\n                            params.push('asBinary=true');\n\n                            share.downloadURL = baseURL + '/apidoc/files/download/' + share.shareid + '?Authorization=' + sessionKey + '&' + params.join(\"&\")\n\n                            sharesList.pushObject(share);\n                        }));\n                        if (self.get('folderlist.shareid') && (containerid) && (self.get('folderlist.queryParams.containerid') != containerid)) {\n                            // Push the previous folder if there IS a previous folder & if this is NOT the top folder & we aren't just refreshing the current folder\n                            self.get('folderstack').push({\n                                shares: self.get('folderlist.shares'),\n                                shareid: self.get('folderlist.shareid'),\n                                sharename: self.get('folderlist.sharename'),\n                                sharetype: self.get('folderlist.sharetype'),\n                                queryParams: self.get('folderlist.queryParams')\n                            });\n                            //console.log(containerid + \" Push & length is now: \" + self.get('folderstack').length);\n                        }\n                        // Set the current folder\n                        console.log(\"bbbbbbbbbbbbbbbbbbbbb\");\n                        console.log(shareid);\n                        self.set('folderlist.shares', sharesList);\n                        self.set('folderlist.shareid', shareid);\n                        self.set('folderlist.sharename', sharename);\n                        self.set('folderlist.sharetype', sharetype);\n                        self.set('folderlist.queryParams', queryParams);\n                    }\n                });\n                this.set('showShareList', false);\n            }\n        }\n    });\n\n    App.CreateFolderRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.UploadFileRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.ImgUploadComponent = EmberUploader.FileField.extend({\n        multiple: true,\n        url: '',\n        filesDidChange: function (files) {\n            var self = this;\n            var uploadUrl = this.get('url');\n\n            var uploader = EmberUploader.Uploader.create({\n                url: uploadUrl,\n                paramName: 'uploadfile'\n            });\n            uploader.on('didUpload', function (e) {\n                self.sendAction('action', self.get('actionParams'));\n            });\n            if (!Ember.isEmpty(files)) {\n                this.sendAction('startAction', true);\n                uploader.uploadSerial(files, this.get('params'), this.get('headers'));\n            }\n        }\n    });\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"image\">\n\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Attach Related Images</a>\n            </h4>\n        </div>\n        <div id=\"collapseA\" class=\"panel-collapse collapse in\">\n            <div class=\"container-fluid\">\n                <div id=\"content panel-group\" id=\"accordion\">\n                    <div style=\"padding: 10px;\">\n                        <div class=\"panel panel-default\">\n                            <div id='bod' class=\"panel-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-9\">\n                                        {{#if controller.showShareList}}\n                                        <div id=\"sharelist\" class=\"row-fluid\">\n                                            {{partial \"sharelistimg\"}}\n                                        </div>\n                                        {{/if}}\n                                        {{#unless controller.showShareList}}\n                                        <div id=\"folderlist\" class=\"row-fluid\">\n                                            {{partial \"_folderlistimg\"}}\n                                        </div>\n                                        {{/unless}}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                <img src=\"/assets/images/throbber.gif\"/>\n            </div>\n            {{#unless controller.isFileListEmpty}}\n            <div id=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div class=\"panel-heading\">\n                            <h3 class=\"panel-title\">Attached Files</h3>\n                        </div>\n                        <div id='bod' class=\"panel-body\">\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><label>File Name</label></div>\n                                <div class=\"hidden-xs col-sm-6 col-md-6\"><label>File Label</label></div>\n                            </div>\n                            {{#each file in controller.filelist}}\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><p class=\"form-control-static\">{{file.name}}</p></div>\n                                <div class=\"col-xs-12 col-sm-6 col-md-6\">{{input type=\"text\" class=\"form-control\"\n                                    value=file.label}}\n                                </div>\n                                <div class=\"hidden-xs col-sm-2 col-md-2\">\n                                    <button class=\"btn btn-danger btn-sm\" {{action\n                                    \"removeFile\" file}}>Remove&nbsp;<span\n                                        class=\"glyphicon glyphicon-trash\"></span></button>\n                                </div>\n                            </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {{/unless}}\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_sharelistimg\">\n    <table class=\"table table-bordered table-striped table-condensed col-md-10\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            <th>Name</th>\n            <th>Site Type</th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each share in controller.shares}}\n        <tr style=\"word-break:break-word\">\n            <td><a {{action \"openShare\" share.share.name share.share.type share.share.id share.share.path share.share.containerid}}>{{share.share.name}}</a></td>\n            <td>{{share.share.type}}</td>\n        </tr>\n        {{/each}}\n        </tbody>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_createFolderimg\">\n    <div class=\"modal fade\" id=\"button-modal-create-img\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"createfolderformimg\" class=\"form-horizontal\" enctype=\"application/x-www-form-urlencoded\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">New Folder</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{input id=\"createfolderimg\" name=\"foldername\" class=\"form-control\" type=\"text\" value=controller.newFolderName}}\n                            <button class=\"btn btn-default\" type=\"submit\" {{action \"createFolderClickImg\" folderlist.shareid containerid path \"button-modal-create-img\"}}>Create</button>\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_uploadFileimg\">\n    <div class=\"modal fade\" id=\"button-modal-upload-img\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"fileuploadform\" class=\"form-horizontal\" enctype=\"multipart/form-data\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">File Upload</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{img-upload class=\"form-control\" url=controller.uploadURL\n                            params=controller.folderlist.queryParams\n                            headers=controller.headers action='modalFinished'\n                            actionParams=\"button-modal-upload-img\" startAction='setLoading'}}\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_folderlistimg\">\n    <div class=\"panel-heading\">\n        <h2 class=\"panel-title\">{{controller.folderlist.sharename}}<span style=\"float:right;\"><em>{{controller.folderlist.sharetype}}</em></span></h2>\n    </div>\n    <div id=\"browseOnly\">\n        <!--<button type=\"button\" class=\"btn btn-default {{if controller.isRoot 'disabled'}}\" {{action \"navigateToParent\" controller.folderlist.shareid}}>-->\n        <!--<span class=\"glyphicon glyphicon-level-up\"></span> &nbsp;Back to Parent-->\n        <!--</button>-->\n        {{partial 'uploadFileimg'}}\n        {{partial 'createFolderimg'}}\n    </div>\n    <table class=\"table table-bordered table-striped col-md-12\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            {{#if controller.contentOnly}}\n            <th><a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{else}}\n            <th><a {{action \"returnToSites\"}}>Home</a> <a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{/if}}\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each controller.folderlist.shares as |share|}}\n        <tr style=\"word-break:break-word\">\n            <td>\n                {{#if share.isDir}}\n                <a {{action \"openShare\" controller.folderlist.sharename controller.folderlist.sharetype share.shareid share.path share.containerid}}>\n                <span class=\"glyphicon glyphicon-folder-open\"></span> &nbsp;\n                {{share.name}}\n                </a>\n                {{/if}}\n                {{#unless share.isDir}}\n                <a href=\"{{share.downloadURL}}\">\n                    <span class=\"glyphicon glyphicon-file\" style=\"color: silver;\"></span> &nbsp;\n                    {{share.name}}\n                </a>\n                {{/unless}}\n            </td>\n            <td align=\"center\">\n                {{#unless share.isDir}}\n                <!--<a class=\"btn btn-default\" href=\"{{share.downloadURL}}\">-->\n                <!--<span class=\"glyphicon glyphicon-download\"></span> &nbsp; Download-->\n                <!--</a>-->\n                <button class=\"btn btn-success\" {{action\n                \"addFile\" share}}>\n                <span class=\"glyphicon glyphicon-paperclip\"></span> &nbsp; Attach File\n                </button>\n                {{/unless}}\n            </td>\n        </tr>\n        {{/each}}\n        </tbody>\n        <tfoot>\n        <tr>\n            <td colspan=\"2\">\n                <a data-insertid=\"1\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#button-modal-upload-img\" style=\"font-size:12px\">Upload Files</a>\n                <a data-insertid=\"1\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#button-modal-create-img\" style=\"font-size:12px\">Create Folder</a>\n            </td>\n        </tr>\n        </tfoot>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"light-box\">\n    {{#if inlineImage}}<img src=\"{{unbound href}}\" title=\"{{unbound data-title}}\" class=\"{{unbound data-class}}\"/>{{/if}}{{yield}}\n</script>","facts":{}},"checksum":"6CD954EE8A57EE90254FEFEDED061C92186198E883A7EE1C68F525BDF423ED41L23571"},{"_id":{"$oid":"567985862700007300cfc18f"},"id":"567985862700007300cfc18f","owner":{},"recType":"app","name":"Photo Data Template","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805796203,"createDate":{"$date":1450804614320},"updateDate":{"$date":1450805796203},"origin":{"id":"567873f14300005c03ea9e81","name":"APIdoc share and folder nav","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","createDate":1450804614320,"checksum":"4CF60C6AEB1FAFFEB3F065D82E0FCB73CF2D8F227CCBE63D78ABB670C17CB67CL23748"},"data":{"form":"<script type=\"text/javascript\">\n    var baseURL = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n\n    App.ImageController = Ember.Controller.extend({\n        facts: jsonTask.FACTS,\n        init: function () {\n            console.log(\"imageinit\");\n            // if we are doing a content view then skip the shareList view\n            if (this.get(\"params.objTypeId\") === \"Content\") {\n                this.set(\"showShareList\", false);\n                this.set(\"contentOnly\", true);\n                var headers = {\n                    Authorization: sessionKey\n                };\n                this.set(\"headers\", headers);\n                var params = this.get(\"params\");\n                console.log(facts);\n                console.log(this);\n                this.send(\"openShare\", params.sharename, params.sharetype, params.objId, params.path, params.containerid);\n            }\n        },\n        queryParams: {path: \"\", containerid: \"\"},\n        containerid: null,\n        path: null,\n        showShareList: true,\n        contentOnly: false,\n        bPopUp: null,\n        isFileListEmpty: true,\n        dataArray: function () {\n            var dA = Ember.A();\n            var raw = this.get(\"model\");\n            for (var i in raw) {\n                dA.pushObject(raw[i]);\n            }\n            return dA\n        }.property(\"model\"),\n        filelist: Ember.A(),\n        folderlist: Ember.A(),\n        folderstack: Ember.A(),\n        shares: function () {\n            return this.get(\"dataArray\");\n        }.property(\"dataArray\"),\n        newFolderName: \"\",\n        headers: {\n            Authorization: sessionKey\n        },\n        uploadURL: function () {\n            return baseURL + '/apidoc/files/upload/' + this.get('folderlist.shareid');\n        }.property('folderList.shareid'),\n        uploadFile: null,\n        isLoading: false,\n        isRoot: function() {\n            return (this.get(\"folderlist\").queryParams.path == \"\")\n        }.property(\"folderlist.queryParams.path\"),\n        actions: {\n            submitAction: function () {\n                this.set('isLoading', true);\n                var self = this;\n                // We really want to inject RELATEDS\n                var injectableFiles = [];\n                this.get(\"filelist\").forEach(function (file) {\n                    injectableFiles.pushObject({\n                        \"ID\": file.link,\n                        \"LABEL\": file.name,\n                        \"TOOLTIP\": \"file.label\",\n                        \"TYPE\": \"PIO\",\n                        \"URL\": \"http://api.point.io/ui-html5/LinkViewer/app.html?id=\" + file.link\n                    });\n                });\n                var injectableFacts = {\n                    'REQUEST': {\n                        'INPUT': {\n                            'RELATEDS': injectableFiles,\n                            'FIELDS': [],\n                            'FACTS': []\n                        }\n                    }\n                };\n                Ember.$.ajax({\n                    type: \"PUT\",\n                    async: true,\n                    url: baseURL + '/messages/injectListJSON/' + taskid + '?Authorization=' + sessionKey,\n                    data: JSON.stringify(injectableFacts),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    success: function (data) {\n                        self.set('isLoading', false);\n                        //$('#emberForm').submit();\n                    }\n                });\n                return true; //this bubbles the action up\n            },\n            addFile: function (share) {\n                this.set('isLoading', true);\n                var self = this;\n                //create a link\n                var linkURL = \"\";\n                //v3\n                var servercall = baseURL + \"/apidoc/links/create/\" + share.shareid + \"?Authorization=\" + sessionKey;\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {\n                        'containerid': share.containerid,\n                        'path': share.path,\n                        'fileid': share.fileid,\n                        'filename': share.name\n                    },\n                    url: servercall,\n                    success: function (data) {\n                        linkURL = data.RESPONSE.linkid;\n                        self.set('isLoading', false);\n                    }\n                });\n                //add it to the list\n                var fileArray = this.get(\"filelist\");\n                fileArray.pushObject({name: share.name, link: linkURL, label: share.name});\n                this.set(\"isFileListEmpty\", false);\n            },\n            removeFile: function (id) {\n                var fileList = this.get('filelist');\n                fileList.removeObject(id);\n                if (fileList.length == 0)\n                    this.set(\"isFileListEmpty\", true);\n            },\n            createFolderClickImg: function (shareid, containerid, path, modalId) {\n                console.log(\"Img folder\");\n                console.log(this);\n                var self = this;\n                this.set('isLoading', true);\n                var servercall = baseURL + \"/apidoc/folders/create/\" + shareid\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {'containerid': containerid, 'path': path, 'foldername': this.get('newFolderName')},\n                    url: servercall,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    cache: false,\n                    success: function (data) {\n                        self.send('modalFinished', modalId);\n                    }\n                });\n            },\n            modalFinished: function (modalId) {\n                $('#'+modalId).modal(\"hide\");\n                var thisFolder = this.get(\"folderlist\");\n                this.send('openShare', thisFolder.sharename, thisFolder.sharetype, thisFolder.shareid, thisFolder.queryParams.path, thisFolder.queryParams.containerid);\n                this.send('setLoading', false);\n            },\n            returnToSites: function() {\n                this.set('showShareList', true);\n            },\n            navigateToParent: function () {\n                if (this.get('folderstack').length == 0) {\n                    if (!this.get('contentOnly'))\n                    {\n                        this.send('returnToSites');\n                    }\n                }\n                else {\n                    var current = this.get('folderstack').pop();\n                    this.set('folderlist', current);\n                }\n            },\n            setLoading: function(state) {\n                this.set('isLoading', state);\n            },\n            openShare: function (sharename, sharetype, shareid, path, containerid) {\n                var self = this;\n                if (typeof containerid != 'undefined')\n                    self.set('containerid', containerid);\n                else\n                    self.set('containerid', \"\");\n                if (typeof path != 'undefined')\n                    self.set('path', path);\n                else\n                    self.set('path', \"\");\n                var queryParams = {path: self.get('path'), containerid: self.get('containerid')};\n                Ember.$.ajax({\n                    async: false,\n                    url: baseURL + '/apidoc/folders/list/' + shareid,\n                    data: queryParams,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    success: function (data) {\n                        var sharesList = Ember.A();\n                        (data.RESPONSE.RESULT.forEach(function (share) {\n                            share.isDir = (share.type === 'DIR');\n                            var params = [];\n                            if (share.path) {\n                                params.push('path=' + encodeURIComponent(share.path))\n                            }\n                            if (share.containerid) {\n                                params.push('containerid=' + encodeURIComponent(share.containerid))\n                            }\n                            if (share.fileid) {\n                                params.push('fileid=' + encodeURIComponent(share.fileid))\n                            }\n                            if (share.name) {\n                                params.push('filename=' + encodeURIComponent(share.name))\n                            }\n                            params.push('asBinary=true');\n\n                            share.downloadURL = baseURL + '/apidoc/files/download/' + share.shareid + '?Authorization=' + sessionKey + '&' + params.join(\"&\")\n\n                            sharesList.pushObject(share);\n                        }));\n                        if (self.get('folderlist.shareid') && (containerid) && (self.get('folderlist.queryParams.containerid') != containerid)) {\n                            // Push the previous folder if there IS a previous folder & if this is NOT the top folder & we aren't just refreshing the current folder\n                            self.get('folderstack').push({\n                                shares: self.get('folderlist.shares'),\n                                shareid: self.get('folderlist.shareid'),\n                                sharename: self.get('folderlist.sharename'),\n                                sharetype: self.get('folderlist.sharetype'),\n                                queryParams: self.get('folderlist.queryParams')\n                            });\n                            //console.log(containerid + \" Push & length is now: \" + self.get('folderstack').length);\n                        }\n                        // Set the current folder\n                        console.log(\"bbbbbbbbbbbbbbbbbbbbb\");\n                        console.log(shareid);\n                        self.set('folderlist.shares', sharesList);\n                        self.set('folderlist.shareid', shareid);\n                        self.set('folderlist.sharename', sharename);\n                        self.set('folderlist.sharetype', sharetype);\n                        self.set('folderlist.queryParams', queryParams);\n                    }\n                });\n                this.set('showShareList', false);\n            }\n        }\n    });\n\n    App.CreateFolderRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.UploadFileRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.ImgUploadComponent = EmberUploader.FileField.extend({\n        multiple: true,\n        url: '',\n        filesDidChange: function (files) {\n            var self = this;\n            var uploadUrl = this.get('url');\n\n            var uploader = EmberUploader.Uploader.create({\n                url: uploadUrl,\n                paramName: 'uploadfile'\n            });\n            uploader.on('didUpload', function (e) {\n                self.sendAction('action', self.get('actionParams'));\n            });\n            if (!Ember.isEmpty(files)) {\n                this.sendAction('startAction', true);\n                uploader.uploadSerial(files, this.get('params'), this.get('headers'));\n            }\n        }\n    });\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"image\">\n\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Attach Related Images</a>\n            </h4>\n        </div>\n        <div id=\"collapseA\" class=\"panel-collapse collapse in\">\n            <div class=\"container-fluid\">\n                <div id=\"content panel-group\" id=\"accordion\">\n                    <div style=\"padding: 10px;\">\n                        <div class=\"panel panel-default\">\n                            <div id='bod' class=\"panel-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-9\">\n                                        {{#if controller.showShareList}}\n                                        <div id=\"sharelist\" class=\"row-fluid\">\n                                            {{partial \"sharelistimg\"}}\n                                        </div>\n                                        {{/if}}\n                                        {{#unless controller.showShareList}}\n                                        <div id=\"folderlist\" class=\"row-fluid\">\n                                            {{partial \"_folderlistimg\"}}\n                                        </div>\n                                        {{/unless}}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                <img src=\"/assets/images/throbber.gif\"/>\n            </div>\n            {{#unless controller.isFileListEmpty}}\n            <div id=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div class=\"panel-heading\">\n                            <h3 class=\"panel-title\">Attached Files</h3>\n                        </div>\n                        <div id='bod' class=\"panel-body\">\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><label>File Name</label></div>\n                                <div class=\"hidden-xs col-sm-6 col-md-6\"><label>File Label</label></div>\n                            </div>\n                            {{#each file in controller.filelist}}\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><p class=\"form-control-static\">{{file.name}}</p></div>\n                                <div class=\"col-xs-12 col-sm-6 col-md-6\">{{input type=\"text\" class=\"form-control\"\n                                    value=file.label}}\n                                </div>\n                                <div class=\"hidden-xs col-sm-2 col-md-2\">\n                                    <button class=\"btn btn-danger btn-sm\" {{action\n                                    \"removeFile\" file}}>Remove&nbsp;<span\n                                        class=\"glyphicon glyphicon-trash\"></span></button>\n                                </div>\n                            </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {{/unless}}\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_sharelistimg\">\n    <table class=\"table table-bordered table-striped table-condensed col-md-10\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            <th>Name</th>\n            <th>Site Type</th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each share in controller.shares}}\n        <tr style=\"word-break:break-word\">\n            <td><a {{action \"openShare\" share.share.name share.share.type share.share.id share.share.path share.share.containerid}}>{{share.share.name}}</a></td>\n            <td>{{share.share.type}}</td>\n        </tr>\n        {{/each}}\n        </tbody>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_createFolderimg\">\n    <div class=\"modal fade\" id=\"button-modal-create-img\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"createfolderformimg\" class=\"form-horizontal\" enctype=\"application/x-www-form-urlencoded\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">New Folder</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{input id=\"createfolderimg\" name=\"foldername\" class=\"form-control\" type=\"text\" value=controller.newFolderName}}\n                            <button class=\"btn btn-default\" type=\"submit\" {{action \"createFolderClickImg\" folderlist.shareid containerid path \"button-modal-create-img\"}}>Create</button>\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_uploadFileimg\">\n    <div class=\"modal fade\" id=\"button-modal-upload-img\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"fileuploadform\" class=\"form-horizontal\" enctype=\"multipart/form-data\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">File Upload</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{img-upload class=\"form-control\" url=controller.uploadURL\n                            params=controller.folderlist.queryParams\n                            headers=controller.headers action='modalFinished'\n                            actionParams=\"button-modal-upload-img\" startAction='setLoading'}}\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_folderlistimg\">\n    <div class=\"panel-heading\">\n        <h2 class=\"panel-title\">{{controller.folderlist.sharename}}<span style=\"float:right;\"><em>{{controller.folderlist.sharetype}}</em></span></h2>\n    </div>\n    <div id=\"browseOnly\">\n        <!--<button type=\"button\" class=\"btn btn-default {{if controller.isRoot 'disabled'}}\" {{action \"navigateToParent\" controller.folderlist.shareid}}>-->\n        <!--<span class=\"glyphicon glyphicon-level-up\"></span> &nbsp;Back to Parent-->\n        <!--</button>-->\n        {{partial 'uploadFileimg'}}\n        {{partial 'createFolderimg'}}\n    </div>\n    <table class=\"table table-bordered table-striped col-md-12\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            {{#if controller.contentOnly}}\n            <th><a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{else}}\n            <th><a {{action \"returnToSites\"}}>Home</a> <a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{/if}}\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each controller.folderlist.shares as |share|}}\n        <tr style=\"word-break:break-word\">\n            <td>\n                {{#if share.isDir}}\n                <a {{action \"openShare\" controller.folderlist.sharename controller.folderlist.sharetype share.shareid share.path share.containerid}}>\n                <span class=\"glyphicon glyphicon-folder-open\"></span> &nbsp;\n                {{share.name}}\n                </a>\n                {{/if}}\n                {{#unless share.isDir}}\n                <a href=\"{{share.downloadURL}}\">\n                    <span class=\"glyphicon glyphicon-file\" style=\"color: silver;\"></span> &nbsp;\n                    {{share.name}}\n                </a>\n                {{/unless}}\n            </td>\n            <td align=\"center\">\n                {{#unless share.isDir}}\n                <!--<a class=\"btn btn-default\" href=\"{{share.downloadURL}}\">-->\n                <!--<span class=\"glyphicon glyphicon-download\"></span> &nbsp; Download-->\n                <!--</a>-->\n                <button class=\"btn btn-success\" {{action\n                \"addFile\" share}}>\n                <span class=\"glyphicon glyphicon-paperclip\"></span> &nbsp; Attach File\n                </button>\n                {{/unless}}\n            </td>\n        </tr>\n        {{/each}}\n        </tbody>\n        <tfoot>\n        <tr>\n            <td colspan=\"2\">\n                <a data-insertid=\"1\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#button-modal-upload-img\" style=\"font-size:12px\">Upload Files</a>\n                <a data-insertid=\"1\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#button-modal-create-img\" style=\"font-size:12px\">Create Folder</a>\n            </td>\n        </tr>\n        </tfoot>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"light-box\">\n    {{#if inlineImage}}<img src=\"{{unbound href}}\" title=\"{{unbound data-title}}\" class=\"{{unbound data-class}}\"/>{{/if}}{{yield}}\n</script>","facts":{}},"checksum":"6CD954EE8A57EE90254FEFEDED061C92186198E883A7EE1C68F525BDF423ED41L23571"},{"_id":{"$oid":"56797ab7430000110aeaa00f"},"id":"56797ab7430000110aeaa00f","owner":{},"recType":"app","name":"File Data Template","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805713462,"createDate":{"$date":1450801847659},"updateDate":{"$date":1450805713462},"origin":{"id":"567318b0370000761396b6bc","name":"APIdoc share and folder nav","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","createDate":1450801847659,"checksum":"4CF60C6AEB1FAFFEB3F065D82E0FCB73CF2D8F227CCBE63D78ABB670C17CB67CL23748"},"data":{"form":"<script type=\"text/javascript\">\n    var baseURL = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n\n    App.FileController = Ember.Controller.extend({\n        facts: jsonTask.FACTS,\n        init: function () {\n            console.log(\"fileinit\");\n            // if we are doing a content view then skip the shareList view\n            if (this.get(\"params.objTypeId\") === \"Content\") {\n                this.set(\"showShareList\", false);\n                this.set(\"contentOnly\", true);\n                var headers = {\n                    Authorization: sessionKey\n                };\n                this.set(\"headers\", headers);\n                var params = this.get(\"params\");\n                console.log(this);\n                console.log(this.get('facts'));\n                this.send(\"openShare\", params.sharename, params.sharetype, params.objId, params.path, params.containerid);\n            }\n        },\n        queryParams: {path: \"\", containerid: \"\"},\n        containerid: null,\n        path: null,\n        showShareList: true,\n        contentOnly: false,\n        bPopUp: null,\n        isFileListEmpty: true,\n        dataArray: function () {\n            var dA = Ember.A();\n            var raw = this.get(\"model\");\n            for (var i in raw) {\n                dA.pushObject(raw[i]);\n            }\n            return dA\n        }.property(\"model\"),\n        filelist: Ember.A(),\n        folderlist: Ember.A(),\n        folderstack: Ember.A(),\n        shares: function () {\n            return this.get(\"dataArray\");\n        }.property(\"dataArray\"),\n        newFolderName: \"\",\n        headers: {\n            Authorization: sessionKey\n        },\n        uploadURL: function () {\n            return baseURL + '/apidoc/files/upload/' + this.get('folderlist.shareid');\n        }.property('folderList.shareid'),\n        uploadFile: null,\n        isLoading: false,\n        isRoot: function() {\n            return (this.get(\"folderlist\").queryParams.path == \"\")\n        }.property(\"folderlist.queryParams.path\"),\n        actions: {\n            submitAction: function () {\n                this.set('isLoading', true);\n                var self = this;\n                // We really want to inject RELATEDS\n                var injectableFiles = [];\n                this.get(\"filelist\").forEach(function (file) {\n                    injectableFiles.pushObject({\n                        \"ID\": file.link,\n                        \"LABEL\": file.name,\n                        \"TOOLTIP\": \"file.label\",\n                        \"TYPE\": \"PIO\",\n                        \"URL\": \"http://api.point.io/ui-html5/LinkViewer/app.html?id=\" + file.link\n                    });\n                });\n                var injectableFacts = {\n                    'REQUEST': {\n                        'INPUT': {\n                            'RELATEDS': injectableFiles,\n                            'FIELDS': [],\n                            'FACTS': []\n                        }\n                    }\n                };\n                Ember.$.ajax({\n                    type: \"PUT\",\n                    async: true,\n                    url: baseURL + '/messages/injectListJSON/' + taskid + '?Authorization=' + sessionKey,\n                    data: JSON.stringify(injectableFacts),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    success: function (data) {\n                        self.set('isLoading', false);\n                        //$('#emberForm').submit();\n                    }\n                });\n                return true; //this bubbles the action up\n            },\n            addFile: function (share) {\n                this.set('isLoading', true);\n                var self = this;\n                //create a link\n                var linkURL = \"\";\n                //v3\n                var servercall = baseURL + \"/apidoc/links/create/\" + share.shareid + \"?Authorization=\" + sessionKey;\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {\n                        'containerid': share.containerid,\n                        'path': share.path,\n                        'fileid': share.fileid,\n                        'filename': share.name\n                    },\n                    url: servercall,\n                    success: function (data) {\n                        linkURL = data.RESPONSE.linkid;\n                        self.set('isLoading', false);\n                    }\n                });\n                //add it to the list\n                var fileArray = this.get(\"filelist\");\n                fileArray.pushObject({name: share.name, link: linkURL, label: share.name});\n                this.set(\"isFileListEmpty\", false);\n            },\n            removeFile: function (id) {\n                var fileList = this.get('filelist');\n                fileList.removeObject(id);\n                if (fileList.length == 0)\n                    this.set(\"isFileListEmpty\", true);\n            },\n            createFolderClick: function (shareid, containerid, path, modalId) {\n                console.log(\"File folder\");\n                console.log(this);\n                var self = this;\n                this.set('isLoading', true);\n                var servercall = baseURL + \"/apidoc/folders/create/\" + shareid\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {'containerid': containerid, 'path': path, 'foldername': this.get('newFolderName')},\n                    url: servercall,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    cache: false,\n                    success: function (data) {\n                        self.send('modalFinished', modalId);\n                    }\n                });\n            },\n            modalFinished: function (modalId) {\n                $('#'+modalId).modal(\"hide\");\n                var thisFolder = this.get(\"folderlist\");\n                this.send('openShare', thisFolder.sharename, thisFolder.sharetype, thisFolder.shareid, thisFolder.queryParams.path, thisFolder.queryParams.containerid);\n                this.send('setLoading', false);\n            },\n            returnToSites: function() {\n                this.set('showShareList', true);\n            },\n            navigateToParent: function () {\n                if (this.get('folderstack').length == 0) {\n                    if (!this.get('contentOnly'))\n                    {\n                        this.send('returnToSites');\n                    }\n                }\n                else {\n                    var current = this.get('folderstack').pop();\n                    this.set('folderlist', current);\n                }\n            },\n            setLoading: function(state) {\n                this.set('isLoading', state);\n            },\n            openShare: function (sharename, sharetype, shareid, path, containerid) {\n                var self = this;\n                console.log(shareid);\n                if (typeof containerid != 'undefined')\n                    self.set('containerid', containerid);\n                else\n                    self.set('containerid', \"\");\n                if (typeof path != 'undefined')\n                    self.set('path', path);\n                else\n                    self.set('path', \"\");\n                var queryParams = {path: self.get('path'), containerid: self.get('containerid')};\n                Ember.$.ajax({\n                    async: false,\n                    url: baseURL + '/apidoc/folders/list/' + shareid,\n                    data: queryParams,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    success: function (data) {\n                        var sharesList = Ember.A();\n                        (data.RESPONSE.RESULT.forEach(function (share) {\n                            share.isDir = (share.type === 'DIR');\n                            var params = [];\n                            if (share.path) {\n                                params.push('path=' + encodeURIComponent(share.path))\n                            }\n                            if (share.containerid) {\n                                params.push('containerid=' + encodeURIComponent(share.containerid))\n                            }\n                            if (share.fileid) {\n                                params.push('fileid=' + encodeURIComponent(share.fileid))\n                            }\n                            if (share.name) {\n                                params.push('filename=' + encodeURIComponent(share.name))\n                            }\n                            params.push('asBinary=true');\n\n                            share.downloadURL = baseURL + '/apidoc/files/download/' + share.shareid + '?Authorization=' + sessionKey + '&' + params.join(\"&\")\n\n                            sharesList.pushObject(share);\n                        }));\n                        if (self.get('folderlist.shareid') && (containerid) && (self.get('folderlist.queryParams.containerid') != containerid)) {\n                            // Push the previous folder if there IS a previous folder & if this is NOT the top folder & we aren't just refreshing the current folder\n                            self.get('folderstack').push({\n                                shares: self.get('folderlist.shares'),\n                                shareid: self.get('folderlist.shareid'),\n                                sharename: self.get('folderlist.sharename'),\n                                sharetype: self.get('folderlist.sharetype'),\n                                queryParams: self.get('folderlist.queryParams')\n                            });\n                            //console.log(containerid + \" Push & length is now: \" + self.get('folderstack').length);\n                        }\n                        // Set the current folder\n                        console.log(\"aaaaaaaaaaaaaaaaaaaaaa\");\n                        console.log(shareid);\n                        self.set('folderlist.shares', sharesList);\n                        self.set('folderlist.shareid', shareid);\n                        self.set('folderlist.sharename', sharename);\n                        self.set('folderlist.sharetype', sharetype);\n                        self.set('folderlist.queryParams', queryParams);\n                    }\n                });\n                this.set('showShareList', false);\n            }\n        }\n    });\n\n    App.CreateFolderRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.UploadFileRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.FileUploadComponent = EmberUploader.FileField.extend({\n        multiple: true,\n        url: '',\n        filesDidChange: function (files) {\n            var self = this;\n            var uploadUrl = this.get('url');\n            \n            var headers = {\n                Authorization: sessionKey\n            };\n            var uploader = EmberUploader.Uploader.create({\n                url: uploadUrl,\n                paramName: 'uploadfile'\n            });\n            uploader.on('didUpload', function (e) {\n                self.sendAction('action', self.get('actionParams'));\n            });\n            if (!Ember.isEmpty(files)) {\n                console.log(\"Checking file url: \");\n                console.log(this.get('params'));\n                console.log(uploader.url)\n                this.sendAction('startAction', true);\n                uploader.uploadSerial(files, this.get('params'), headers);\n            }\n        }\n    });\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"file\">\n\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Attach Related Files</a>\n            </h4>\n        </div>\n        <div id=\"collapseA\" class=\"panel-collapse collapse in\">\n            <div class=\"container-fluid\">\n                <div id=\"content panel-group\" id=\"accordion\">\n                    <div style=\"padding: 10px;\">\n                        <div class=\"panel panel-default\">\n                            <div id='bod' class=\"panel-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-9\">\n                                        {{#if controller.showShareList}}\n                                        <div id=\"sharelist\" class=\"row-fluid\">\n                                            {{partial \"sharelist\"}}\n                                        </div>\n                                        {{/if}}\n                                        {{#unless controller.showShareList}}\n                                        <div id=\"folderlist\" class=\"row-fluid\">\n                                            {{partial \"_folderlist\"}}\n                                        </div>\n                                        {{/unless}}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                <img src=\"/assets/images/throbber.gif\"/>\n            </div>\n            {{#unless controller.isFileListEmpty}}\n            <div id=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div class=\"panel-heading\">\n                            <h3 class=\"panel-title\">Attached Files</h3>\n                        </div>\n                        <div id='bod' class=\"panel-body\">\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><label>File Name</label></div>\n                                <div class=\"hidden-xs col-sm-6 col-md-6\"><label>File Label</label></div>\n                            </div>\n                            {{#each file in controller.filelist}}\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><p class=\"form-control-static\">{{file.name}}</p></div>\n                                <div class=\"col-xs-12 col-sm-6 col-md-6\">{{input type=\"text\" class=\"form-control\"\n                                    value=file.label}}\n                                </div>\n                                <div class=\"hidden-xs col-sm-2 col-md-2\">\n                                    <button class=\"btn btn-danger btn-sm\" {{action\n                                    \"removeFile\" file}}>Remove&nbsp;<span\n                                        class=\"glyphicon glyphicon-trash\"></span></button>\n                                </div>\n                            </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {{/unless}}\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_sharelist\">\n    <table class=\"table table-bordered table-striped table-condensed col-md-10\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            <th>Name</th>\n            <th>Site Type</th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each share in controller.shares}}\n        <tr style=\"word-break:break-word\">\n            <td><a {{action \"openShare\" share.share.name share.share.type share.share.id share.share.path share.share.containerid}}>{{share.share.name}}</a></td>\n            <td>{{share.share.type}}</td>\n        </tr>\n        {{/each}}\n        </tbody>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_createFolder\">\n    <div class=\"modal fade\" id=\"button-modal-create\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"createfolderform\" class=\"form-horizontal\" enctype=\"application/x-www-form-urlencoded\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">New Folder</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{input id=\"createfolder\" name=\"foldername\" class=\"form-control\" type=\"text\" value=controller.newFolderName}}\n                            <button class=\"btn btn-default\" type=\"submit\" {{action \"createFolderClick\" folderlist.shareid containerid path \"button-modal-create\"}}>Create</button>\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_uploadFile\">\n    <div class=\"modal fade\" id=\"button-modal-upload\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"fileuploadform\" class=\"form-horizontal\" enctype=\"multipart/form-data\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">File Upload</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{file-upload class=\"form-control\" url=controller.uploadURL\n                            params=controller.folderlist.queryParams\n                            headers=controller.headers action='modalFinished'\n                            actionParams=\"button-modal-upload\" startAction='setLoading'}}\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_folderlist\">\n    <div class=\"panel-heading\">\n        <h2 class=\"panel-title\">{{controller.folderlist.sharename}}<span style=\"float:right;\"><em>{{controller.folderlist.sharetype}}</em></span></h2>\n    </div>\n    <div id=\"browseOnly\">\n        <!--<button type=\"button\" class=\"btn btn-default {{if controller.isRoot 'disabled'}}\" {{action \"navigateToParent\" controller.folderlist.shareid}}>-->\n        <!--<span class=\"glyphicon glyphicon-level-up\"></span> &nbsp;Back to Parent-->\n        <!--</button>-->\n        {{partial 'uploadFile'}}\n        {{partial 'createFolder'}}\n    </div>\n    <table class=\"table table-bordered table-striped col-md-12\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            {{#if controller.contentOnly}}\n            <th><a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{else}}\n            <th><a {{action \"returnToSites\"}}>Home</a> <a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{/if}}\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each controller.folderlist.shares as |share|}}\n        <tr style=\"word-break:break-word\">\n            <td>\n                {{#if share.isDir}}\n                <a {{action \"openShare\" controller.folderlist.sharename controller.folderlist.sharetype share.shareid share.path share.containerid}}>\n                <span class=\"glyphicon glyphicon-folder-open\"></span> &nbsp;\n                {{share.name}}\n                </a>\n                {{/if}}\n                {{#unless share.isDir}}\n                <a href=\"{{share.downloadURL}}\">\n                    <span class=\"glyphicon glyphicon-file\" style=\"color: silver;\"></span> &nbsp;\n                    {{share.name}}\n                </a>\n                {{/unless}}\n            </td>\n            <td align=\"center\">\n                {{#unless share.isDir}}\n                <!--<a class=\"btn btn-default\" href=\"{{share.downloadURL}}\">-->\n                <!--<span class=\"glyphicon glyphicon-download\"></span> &nbsp; Download-->\n                <!--</a>-->\n                <button class=\"btn btn-success\" {{action\n                \"addFile\" share}}>\n                <span class=\"glyphicon glyphicon-paperclip\"></span> &nbsp; Attach File\n                </button>\n                {{/unless}}\n            </td>\n        </tr>\n        {{/each}}\n        </tbody>\n        <tfoot>\n        <tr>\n            <td colspan=\"2\">\n                <a data-insertid=\"1\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#button-modal-upload\" style=\"font-size:12px\">Upload Files</a>\n                <a data-insertid=\"1\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#button-modal-create\" style=\"font-size:12px\">Create Folder</a>\n            </td>\n        </tr>\n        </tfoot>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"light-box\">\n    {{#if inlineImage}}<img src=\"{{unbound href}}\" title=\"{{unbound data-title}}\" class=\"{{unbound data-class}}\"/>{{/if}}{{yield}}\n</script>","facts":{}},"checksum":"C7AE722719913A8F4273BB5AEC3ACF70F82F13622795F96FB5EA10D65DA7132EL23798"},{"_id":{"$oid":"56797ab7430000110aeaa00f"},"id":"56797ab7430000110aeaa00f","owner":{},"recType":"app","name":"File Data Template","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805713462,"createDate":{"$date":1450801847659},"updateDate":{"$date":1450805713462},"origin":{"id":"567318b0370000761396b6bc","name":"APIdoc share and folder nav","desc":"apidoc default view - handles both Shares & Content object types","creatorId":"tpanagos@point.io","createDate":1450801847659,"checksum":"4CF60C6AEB1FAFFEB3F065D82E0FCB73CF2D8F227CCBE63D78ABB670C17CB67CL23748"},"data":{"form":"<script type=\"text/javascript\">\n    var baseURL = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n\n    App.FileController = Ember.Controller.extend({\n        facts: jsonTask.FACTS,\n        init: function () {\n            console.log(\"fileinit\");\n            // if we are doing a content view then skip the shareList view\n            if (this.get(\"params.objTypeId\") === \"Content\") {\n                this.set(\"showShareList\", false);\n                this.set(\"contentOnly\", true);\n                var headers = {\n                    Authorization: sessionKey\n                };\n                this.set(\"headers\", headers);\n                var params = this.get(\"params\");\n                console.log(this);\n                console.log(this.get('facts'));\n                this.send(\"openShare\", params.sharename, params.sharetype, params.objId, params.path, params.containerid);\n            }\n        },\n        queryParams: {path: \"\", containerid: \"\"},\n        containerid: null,\n        path: null,\n        showShareList: true,\n        contentOnly: false,\n        bPopUp: null,\n        isFileListEmpty: true,\n        dataArray: function () {\n            var dA = Ember.A();\n            var raw = this.get(\"model\");\n            for (var i in raw) {\n                dA.pushObject(raw[i]);\n            }\n            return dA\n        }.property(\"model\"),\n        filelist: Ember.A(),\n        folderlist: Ember.A(),\n        folderstack: Ember.A(),\n        shares: function () {\n            return this.get(\"dataArray\");\n        }.property(\"dataArray\"),\n        newFolderName: \"\",\n        headers: {\n            Authorization: sessionKey\n        },\n        uploadURL: function () {\n            return baseURL + '/apidoc/files/upload/' + this.get('folderlist.shareid');\n        }.property('folderList.shareid'),\n        uploadFile: null,\n        isLoading: false,\n        isRoot: function() {\n            return (this.get(\"folderlist\").queryParams.path == \"\")\n        }.property(\"folderlist.queryParams.path\"),\n        actions: {\n            submitAction: function () {\n                this.set('isLoading', true);\n                var self = this;\n                // We really want to inject RELATEDS\n                var injectableFiles = [];\n                this.get(\"filelist\").forEach(function (file) {\n                    injectableFiles.pushObject({\n                        \"ID\": file.link,\n                        \"LABEL\": file.name,\n                        \"TOOLTIP\": \"file.label\",\n                        \"TYPE\": \"PIO\",\n                        \"URL\": \"http://api.point.io/ui-html5/LinkViewer/app.html?id=\" + file.link\n                    });\n                });\n                var injectableFacts = {\n                    'REQUEST': {\n                        'INPUT': {\n                            'RELATEDS': injectableFiles,\n                            'FIELDS': [],\n                            'FACTS': []\n                        }\n                    }\n                };\n                Ember.$.ajax({\n                    type: \"PUT\",\n                    async: true,\n                    url: baseURL + '/messages/injectListJSON/' + taskid + '?Authorization=' + sessionKey,\n                    data: JSON.stringify(injectableFacts),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    success: function (data) {\n                        self.set('isLoading', false);\n                        //$('#emberForm').submit();\n                    }\n                });\n                return true; //this bubbles the action up\n            },\n            addFile: function (share) {\n                this.set('isLoading', true);\n                var self = this;\n                //create a link\n                var linkURL = \"\";\n                //v3\n                var servercall = baseURL + \"/apidoc/links/create/\" + share.shareid + \"?Authorization=\" + sessionKey;\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {\n                        'containerid': share.containerid,\n                        'path': share.path,\n                        'fileid': share.fileid,\n                        'filename': share.name\n                    },\n                    url: servercall,\n                    success: function (data) {\n                        linkURL = data.RESPONSE.linkid;\n                        self.set('isLoading', false);\n                    }\n                });\n                //add it to the list\n                var fileArray = this.get(\"filelist\");\n                fileArray.pushObject({name: share.name, link: linkURL, label: share.name});\n                this.set(\"isFileListEmpty\", false);\n            },\n            removeFile: function (id) {\n                var fileList = this.get('filelist');\n                fileList.removeObject(id);\n                if (fileList.length == 0)\n                    this.set(\"isFileListEmpty\", true);\n            },\n            createFolderClick: function (shareid, containerid, path, modalId) {\n                console.log(\"File folder\");\n                console.log(this);\n                var self = this;\n                this.set('isLoading', true);\n                var servercall = baseURL + \"/apidoc/folders/create/\" + shareid\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {'containerid': containerid, 'path': path, 'foldername': this.get('newFolderName')},\n                    url: servercall,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    cache: false,\n                    success: function (data) {\n                        self.send('modalFinished', modalId);\n                    }\n                });\n            },\n            modalFinished: function (modalId) {\n                $('#'+modalId).modal(\"hide\");\n                var thisFolder = this.get(\"folderlist\");\n                this.send('openShare', thisFolder.sharename, thisFolder.sharetype, thisFolder.shareid, thisFolder.queryParams.path, thisFolder.queryParams.containerid);\n                this.send('setLoading', false);\n            },\n            returnToSites: function() {\n                this.set('showShareList', true);\n            },\n            navigateToParent: function () {\n                if (this.get('folderstack').length == 0) {\n                    if (!this.get('contentOnly'))\n                    {\n                        this.send('returnToSites');\n                    }\n                }\n                else {\n                    var current = this.get('folderstack').pop();\n                    this.set('folderlist', current);\n                }\n            },\n            setLoading: function(state) {\n                this.set('isLoading', state);\n            },\n            openShare: function (sharename, sharetype, shareid, path, containerid) {\n                var self = this;\n                console.log(shareid);\n                if (typeof containerid != 'undefined')\n                    self.set('containerid', containerid);\n                else\n                    self.set('containerid', \"\");\n                if (typeof path != 'undefined')\n                    self.set('path', path);\n                else\n                    self.set('path', \"\");\n                var queryParams = {path: self.get('path'), containerid: self.get('containerid')};\n                Ember.$.ajax({\n                    async: false,\n                    url: baseURL + '/apidoc/folders/list/' + shareid,\n                    data: queryParams,\n                    headers: {\n                        Authorization: sessionKey\n                    },\n                    success: function (data) {\n                        var sharesList = Ember.A();\n                        (data.RESPONSE.RESULT.forEach(function (share) {\n                            share.isDir = (share.type === 'DIR');\n                            var params = [];\n                            if (share.path) {\n                                params.push('path=' + encodeURIComponent(share.path))\n                            }\n                            if (share.containerid) {\n                                params.push('containerid=' + encodeURIComponent(share.containerid))\n                            }\n                            if (share.fileid) {\n                                params.push('fileid=' + encodeURIComponent(share.fileid))\n                            }\n                            if (share.name) {\n                                params.push('filename=' + encodeURIComponent(share.name))\n                            }\n                            params.push('asBinary=true');\n\n                            share.downloadURL = baseURL + '/apidoc/files/download/' + share.shareid + '?Authorization=' + sessionKey + '&' + params.join(\"&\")\n\n                            sharesList.pushObject(share);\n                        }));\n                        if (self.get('folderlist.shareid') && (containerid) && (self.get('folderlist.queryParams.containerid') != containerid)) {\n                            // Push the previous folder if there IS a previous folder & if this is NOT the top folder & we aren't just refreshing the current folder\n                            self.get('folderstack').push({\n                                shares: self.get('folderlist.shares'),\n                                shareid: self.get('folderlist.shareid'),\n                                sharename: self.get('folderlist.sharename'),\n                                sharetype: self.get('folderlist.sharetype'),\n                                queryParams: self.get('folderlist.queryParams')\n                            });\n                            //console.log(containerid + \" Push & length is now: \" + self.get('folderstack').length);\n                        }\n                        // Set the current folder\n                        console.log(\"aaaaaaaaaaaaaaaaaaaaaa\");\n                        console.log(shareid);\n                        self.set('folderlist.shares', sharesList);\n                        self.set('folderlist.shareid', shareid);\n                        self.set('folderlist.sharename', sharename);\n                        self.set('folderlist.sharetype', sharetype);\n                        self.set('folderlist.queryParams', queryParams);\n                    }\n                });\n                this.set('showShareList', false);\n            }\n        }\n    });\n\n    App.CreateFolderRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.UploadFileRoute = Ember.Route.extend({\n        model: function (params, options) {\n            var model = {};\n            model.shareid = params.shareid\n            model.containerid = options.queryParams.containerid\n            model.path = options.queryParams.path\n            model.sessionKey = sessionKey\n            model.url = document.URL\n            model.baseURL = baseURL\n            return model;\n        }\n    });\n    App.FileUploadComponent = EmberUploader.FileField.extend({\n        multiple: true,\n        url: '',\n        filesDidChange: function (files) {\n            var self = this;\n            var uploadUrl = this.get('url');\n            \n            var headers = {\n                Authorization: sessionKey\n            };\n            var uploader = EmberUploader.Uploader.create({\n                url: uploadUrl,\n                paramName: 'uploadfile'\n            });\n            uploader.on('didUpload', function (e) {\n                self.sendAction('action', self.get('actionParams'));\n            });\n            if (!Ember.isEmpty(files)) {\n                console.log(\"Checking file url: \");\n                console.log(this.get('params'));\n                console.log(uploader.url)\n                this.sendAction('startAction', true);\n                uploader.uploadSerial(files, this.get('params'), headers);\n            }\n        }\n    });\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"file\">\n\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Attach Related Files</a>\n            </h4>\n        </div>\n        <div id=\"collapseA\" class=\"panel-collapse collapse in\">\n            <div class=\"container-fluid\">\n                <div id=\"content panel-group\" id=\"accordion\">\n                    <div style=\"padding: 10px;\">\n                        <div class=\"panel panel-default\">\n                            <div id='bod' class=\"panel-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-9\">\n                                        {{#if controller.showShareList}}\n                                        <div id=\"sharelist\" class=\"row-fluid\">\n                                            {{partial \"sharelist\"}}\n                                        </div>\n                                        {{/if}}\n                                        {{#unless controller.showShareList}}\n                                        <div id=\"folderlist\" class=\"row-fluid\">\n                                            {{partial \"_folderlist\"}}\n                                        </div>\n                                        {{/unless}}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                <img src=\"/assets/images/throbber.gif\"/>\n            </div>\n            {{#unless controller.isFileListEmpty}}\n            <div id=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div class=\"panel-heading\">\n                            <h3 class=\"panel-title\">Attached Files</h3>\n                        </div>\n                        <div id='bod' class=\"panel-body\">\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><label>File Name</label></div>\n                                <div class=\"hidden-xs col-sm-6 col-md-6\"><label>File Label</label></div>\n                            </div>\n                            {{#each file in controller.filelist}}\n                            <div class=\"row\">\n                                <div class=\"col-xs-12 col-sm-4 col-md-4\"><p class=\"form-control-static\">{{file.name}}</p></div>\n                                <div class=\"col-xs-12 col-sm-6 col-md-6\">{{input type=\"text\" class=\"form-control\"\n                                    value=file.label}}\n                                </div>\n                                <div class=\"hidden-xs col-sm-2 col-md-2\">\n                                    <button class=\"btn btn-danger btn-sm\" {{action\n                                    \"removeFile\" file}}>Remove&nbsp;<span\n                                        class=\"glyphicon glyphicon-trash\"></span></button>\n                                </div>\n                            </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {{/unless}}\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_sharelist\">\n    <table class=\"table table-bordered table-striped table-condensed col-md-10\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            <th>Name</th>\n            <th>Site Type</th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each share in controller.shares}}\n        <tr style=\"word-break:break-word\">\n            <td><a {{action \"openShare\" share.share.name share.share.type share.share.id share.share.path share.share.containerid}}>{{share.share.name}}</a></td>\n            <td>{{share.share.type}}</td>\n        </tr>\n        {{/each}}\n        </tbody>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_createFolder\">\n    <div class=\"modal fade\" id=\"button-modal-create\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"createfolderform\" class=\"form-horizontal\" enctype=\"application/x-www-form-urlencoded\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">New Folder</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{input id=\"createfolder\" name=\"foldername\" class=\"form-control\" type=\"text\" value=controller.newFolderName}}\n                            <button class=\"btn btn-default\" type=\"submit\" {{action \"createFolderClick\" folderlist.shareid containerid path \"button-modal-create\"}}>Create</button>\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_uploadFile\">\n    <div class=\"modal fade\" id=\"button-modal-upload\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <form id=\"fileuploadform\" class=\"form-horizontal\" enctype=\"multipart/form-data\" method=\"post\">\n                    <div class=\"modal-header\">\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                        <h4 class=\"modal-title\" id=\"myModalLabel\">File Upload</h4>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"form-group\">\n                            {{file-upload class=\"form-control\" url=controller.uploadURL\n                            params=controller.folderlist.queryParams\n                            headers=controller.headers action='modalFinished'\n                            actionParams=\"button-modal-upload\" startAction='setLoading'}}\n                        </div>\n                        <div align=\"center\" style={{unless controller.isLoading \"display:none;\"}}>\n                        <img src=\"/assets/images/throbber.gif\"/>\n                    </div>\n            </div>\n            </form>\n        </div>\n    </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_folderlist\">\n    <div class=\"panel-heading\">\n        <h2 class=\"panel-title\">{{controller.folderlist.sharename}}<span style=\"float:right;\"><em>{{controller.folderlist.sharetype}}</em></span></h2>\n    </div>\n    <div id=\"browseOnly\">\n        <!--<button type=\"button\" class=\"btn btn-default {{if controller.isRoot 'disabled'}}\" {{action \"navigateToParent\" controller.folderlist.shareid}}>-->\n        <!--<span class=\"glyphicon glyphicon-level-up\"></span> &nbsp;Back to Parent-->\n        <!--</button>-->\n        {{partial 'uploadFile'}}\n        {{partial 'createFolder'}}\n    </div>\n    <table class=\"table table-bordered table-striped col-md-12\">\n        <thead>\n        <tr style=\"word-break:break-word\">\n            {{#if controller.contentOnly}}\n            <th><a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{else}}\n            <th><a {{action \"returnToSites\"}}>Home</a> <a {{action \"navigateToParent\" controller.folderlist.shareid}}>/{{controller.folderlist.queryParams.path}}</a></th>\n            {{/if}}\n            <th></th>\n        </tr>\n        </thead>\n        <tbody>\n        {{#each controller.folderlist.shares as |share|}}\n        <tr style=\"word-break:break-word\">\n            <td>\n                {{#if share.isDir}}\n                <a {{action \"openShare\" controller.folderlist.sharename controller.folderlist.sharetype share.shareid share.path share.containerid}}>\n                <span class=\"glyphicon glyphicon-folder-open\"></span> &nbsp;\n                {{share.name}}\n                </a>\n                {{/if}}\n                {{#unless share.isDir}}\n                <a href=\"{{share.downloadURL}}\">\n                    <span class=\"glyphicon glyphicon-file\" style=\"color: silver;\"></span> &nbsp;\n                    {{share.name}}\n                </a>\n                {{/unless}}\n            </td>\n            <td align=\"center\">\n                {{#unless share.isDir}}\n                <!--<a class=\"btn btn-default\" href=\"{{share.downloadURL}}\">-->\n                <!--<span class=\"glyphicon glyphicon-download\"></span> &nbsp; Download-->\n                <!--</a>-->\n                <button class=\"btn btn-success\" {{action\n                \"addFile\" share}}>\n                <span class=\"glyphicon glyphicon-paperclip\"></span> &nbsp; Attach File\n                </button>\n                {{/unless}}\n            </td>\n        </tr>\n        {{/each}}\n        </tbody>\n        <tfoot>\n        <tr>\n            <td colspan=\"2\">\n                <a data-insertid=\"1\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#button-modal-upload\" style=\"font-size:12px\">Upload Files</a>\n                <a data-insertid=\"1\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#button-modal-create\" style=\"font-size:12px\">Create Folder</a>\n            </td>\n        </tr>\n        </tfoot>\n    </table>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"light-box\">\n    {{#if inlineImage}}<img src=\"{{unbound href}}\" title=\"{{unbound data-title}}\" class=\"{{unbound data-class}}\"/>{{/if}}{{yield}}\n</script>","facts":{}},"checksum":"C7AE722719913A8F4273BB5AEC3ACF70F82F13622795F96FB5EA10D65DA7132EL23798"},{"_id":{"$oid":"56797ab8430000100aeaa01f"},"id":"56797ab8430000100aeaa01f","owner":{},"recType":"app","name":"Hardware Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450806967153,"createDate":{"$date":1450801848123},"updateDate":{"$date":1450806967153},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848123,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.HardController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"hard\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"E72E4C8FA14FCA6B1164FF1F6D28AE932AF4872DF9CF686A94B50457838C1849L29691"},{"_id":{"$oid":"56797ab8430000100aeaa01f"},"id":"56797ab8430000100aeaa01f","owner":{},"recType":"app","name":"Hardware Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450806967153,"createDate":{"$date":1450801848123},"updateDate":{"$date":1450806967153},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848123,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.HardController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"hard\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"E72E4C8FA14FCA6B1164FF1F6D28AE932AF4872DF9CF686A94B50457838C1849L29691"},{"_id":{"$oid":"56797ab8430000100aeaa01f"},"id":"56797ab8430000100aeaa01f","owner":{},"recType":"app","name":"Hardware Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450806967153,"createDate":{"$date":1450801848123},"updateDate":{"$date":1450806967153},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848123,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.HardController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"hard\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"E72E4C8FA14FCA6B1164FF1F6D28AE932AF4872DF9CF686A94B50457838C1849L29691"},{"_id":{"$oid":"567985862700006e00cfc19b"},"id":"567985862700006e00cfc19b","owner":{},"recType":"app","name":"Address Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805213219,"createDate":{"$date":1450804614794},"updateDate":{"$date":1450805213219},"origin":{"id":"567873f14300006403ea9e8b","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450804614794,"checksum":"F3FC6EA818FFCC11B69917B6C9890D4CCC98EA10FE9621F7C5998C4475BA7262L29732"},"data":{"form":"<script type='text/javascript'>\n    App.AddressController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Address:\");\n            console.log(facts);\n            console.log(this);\n            // $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n            //     webshims.setOptions('forms-ext', {types: 'date'});\n            //     webshims.polyfill('forms forms-ext');\n            //         $.webshims.formcfg = {\n            //         en: {\n            //             dFormat: '-',\n            //             dateSigns: '-',\n            //             patterns: {\n            //                 d: \"mm-dd-yy\"\n            //             }\n            //         }\n            //     };\n            // });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetAddressData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#address_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#address_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:35%'><img src='\" + opts.value + \"' style='width:100%; height:300px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 100%'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"address\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"address_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"F3FC6EA818FFCC11B69917B6C9890D4CCC98EA10FE9621F7C5998C4475BA7262L29732"},{"_id":{"$oid":"567985862700006e00cfc19b"},"id":"567985862700006e00cfc19b","owner":{},"recType":"app","name":"Address Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805213219,"createDate":{"$date":1450804614794},"updateDate":{"$date":1450805213219},"origin":{"id":"567873f14300006403ea9e8b","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450804614794,"checksum":"F3FC6EA818FFCC11B69917B6C9890D4CCC98EA10FE9621F7C5998C4475BA7262L29732"},"data":{"form":"<script type='text/javascript'>\n    App.AddressController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Address:\");\n            console.log(facts);\n            console.log(this);\n            // $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n            //     webshims.setOptions('forms-ext', {types: 'date'});\n            //     webshims.polyfill('forms forms-ext');\n            //         $.webshims.formcfg = {\n            //         en: {\n            //             dFormat: '-',\n            //             dateSigns: '-',\n            //             patterns: {\n            //                 d: \"mm-dd-yy\"\n            //             }\n            //         }\n            //     };\n            // });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetAddressData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#address_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#address_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:35%'><img src='\" + opts.value + \"' style='width:100%; height:300px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 100%'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"address\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"address_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"F3FC6EA818FFCC11B69917B6C9890D4CCC98EA10FE9621F7C5998C4475BA7262L29732"},{"_id":{"$oid":"567985862700006e00cfc19b"},"id":"567985862700006e00cfc19b","owner":{},"recType":"app","name":"Address Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805213219,"createDate":{"$date":1450804614794},"updateDate":{"$date":1450805213219},"origin":{"id":"567873f14300006403ea9e8b","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450804614794,"checksum":"F3FC6EA818FFCC11B69917B6C9890D4CCC98EA10FE9621F7C5998C4475BA7262L29732"},"data":{"form":"<script type='text/javascript'>\n    App.AddressController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Address:\");\n            console.log(facts);\n            console.log(this);\n            // $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n            //     webshims.setOptions('forms-ext', {types: 'date'});\n            //     webshims.polyfill('forms forms-ext');\n            //         $.webshims.formcfg = {\n            //         en: {\n            //             dFormat: '-',\n            //             dateSigns: '-',\n            //             patterns: {\n            //                 d: \"mm-dd-yy\"\n            //             }\n            //         }\n            //     };\n            // });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetAddressData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#address_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#address_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:35%'><img src='\" + opts.value + \"' style='width:100%; height:300px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 100%'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"address\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"address_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"F3FC6EA818FFCC11B69917B6C9890D4CCC98EA10FE9621F7C5998C4475BA7262L29732"},{"_id":{"$oid":"56797ab8430000100aeaa023"},"id":"56797ab8430000100aeaa023","owner":{},"recType":"app","name":"Personal Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805388668,"createDate":{"$date":1450801848297},"updateDate":{"$date":1450805388668},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848297,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.AutoController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"auto\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},{"_id":{"$oid":"56797ab8430000100aeaa023"},"id":"56797ab8430000100aeaa023","owner":{},"recType":"app","name":"Personal Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805388668,"createDate":{"$date":1450801848297},"updateDate":{"$date":1450805388668},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848297,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.AutoController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"auto\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},{"_id":{"$oid":"56797ab8430000100aeaa023"},"id":"56797ab8430000100aeaa023","owner":{},"recType":"app","name":"Personal Data Template","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805388668,"createDate":{"$date":1450801848297},"updateDate":{"$date":1450805388668},"origin":{"id":"567318b1370000711396b6c4","name":"AutoView 2.0","desc":"Comcast User Profile Version for a Fact Provider View","creatorId":"tpanagos@point.io","createDate":1450801848297,"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},"data":{"form":"<script type='text/javascript'>\n    App.AutoController = Ember.Controller.extend({\n        modals: Ember.inject.service(),\n        facts: jsonTask.FACTS,\n        isInserting: false,\n        flipbit: true,\n        changeFlag: false,\n        newId: function() {\n            return this.get(\"newLabel\").replace(/\\s+/g, '');\n        }.property(\"newLabel\"),\n        newLabel: \"\",\n        newType: \"string\",\n        newOptionLabel: \"\",\n        newOptionId: function() {\n            return this.get(\"newOptionLabel\").replace(/\\s+/g, '');\n        }.property(\"newOptionLabel\"),\n        newEnumOptions: [],\n        hasTemplateChanges: false,\n        hasUserChanges: false,\n        init: function() {\n            var facts = this.get(\"facts\");\n            // var modals = this.get('modals');\n            if(facts.data != null) {\n                this.set(\"dossier_exists\", true);\n            }\n            else {\n                this.set(\"dossier_exists\", false);\n                var objType = this.get('params.objTypeId');\n                var type = {\"recordType\":objType};\n//                var type = {\"recordType\":\"com.comcast.dossier_data\"};\n                var objid = {\n                    \"user\":facts.objId\n                }\n                Ember.set(facts, \"data\", type);\n                Ember.set(facts.data, \"vars\", objid);\n            }\n            var rand = Math.floor((Math.random() * 10000) + 1);\n            this.set(\"templateId\", rand);\n            console.log(\"Dossier:\");\n            console.log(facts);\n            console.log(this);\n            $.getScript( \"https://cdn.jsdelivr.net/webshim/1.14.5/polyfiller.js\", function( data, textStatus, jqxhr ) {\n                webshims.setOptions('forms-ext', {types: 'date'});\n                webshims.polyfill('forms forms-ext');\n                    $.webshims.formcfg = {\n                    en: {\n                        dFormat: '-',\n                        dateSigns: '-',\n                        patterns: {\n                            d: \"mm-dd-yy\"\n                        }\n                    }\n                };\n            });\n        },\n        newLocation: function() {\n            return this.get(\"templateData\");\n        }.property(),\n        isEnum: function() {\n            return (this.get(\"newType\") === \"enum\");\n        }.property(\"newType\"),\n        isAdmin: function() {\n            return ($.inArray(this.get(\"facts.wf_currentAssignee\"), this.get(\"facts.admins\")) > 0);\n        }.property(),\n        newObject: function() {\n            var obj = {\n                id: this.get(\"newId\"),\n                label: this.get(\"newLabel\"),\n                value: \"\",\n                inputtype: this.get(\"newType\"),\n                fields:[],\n                options:this.get(\"newEnumOptions\")\n            };\n            return obj;\n        }.property(\"newId\",\"newLabel\",\"newType\",\"newLocation\"),\n        selectableTypes: [\n            {\"id\":\"string\",\"label\":\"Textbox\"},\n            {\"id\":\"enum\",\"label\":\"Dropdown\"},\n            {\"id\":\"boolean\",\"label\":\"True/False\"},\n            {\"id\":\"category\",\"label\":\"Category\"},\n            {\"id\":\"image\",\"label\":\"Image\"},\n            {\"id\":\"date\",\"label\":\"Date\"},\n            {\"id\":\"password\",\"label\":\"Password\"}\n        ],\n        locations: function() {\n            console.log(\"triggered locations\");\n            var locArray = Ember.A();\n            locArray.pushObject({\n                id: \"top\",\n                label: \"Top Level\",\n                reference: this.get(\"templateData\")\n            });\n            this.locationFinder(this.get(\"mergedArray\"), locArray, \"-\");\n            return locArray;\n        }.property(\"templateData.@each.inputtype\",\"flipbit\"),\n        locationFinder: function(fields, locArray, dashes) {\n            var self = this;\n            fields.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    locArray.pushObject({\n                        id: item.id,\n                        label: dashes + ' ' + item.label,\n                        reference: item.fields\n                    });\n                    self.locationFinder(item.fields, locArray, dashes + '-');\n                }\n            });\n        },\n        templateData: function() {\n            // getter\n            console.log(\"triggered template read\");\n            var templateObject = Ember.A();\n            var self = this;\n            var templateName = this.get('params.template');\n            var params = '&q={\"data.recordType\":\"' + templateName + '\"}&f={\"_id\":1,\"tstamp\":1,\"data\":1}';\n            Ember.$.ajax({\n                url: flowURL + '/objectstore?Authorization=' + sessionKey + params,\n                async: false,\n                success: function(data) {\n                    console.log(\"read success\");\n                    console.log(data);\n                    templateObject = data.RESPONSE.objs[0].data.vars.fields;\n                    self.templateId = data.RESPONSE.objs[0]._id;\n                    self.templateVars = data.RESPONSE.objs[0].data.vars;\n                    self.templateRecType = data.RESPONSE.objs[0].data.recordType;\n                }\n            });\n            console.log(templateObject);\n            return templateObject;\n        }.property(),\n        mergedArray: function() {\n            console.log(\"triggered mergedArray\");\n            var mergedArray = Ember.A();\n            if (!this.get(\"model._id\")) {\n                console.log(\"facts.data.vars.fields does NOT exist.\");\n                var userFieldsArray = Ember.A();\n            }\n            else {\n                console.log(\"facts.data.vars.fields DOES exist.\");\n                // var userFieldsArray = this.get(\"facts.data.vars.fields\");\n                var userFieldsArray = this.get(\"facts.poi_objects.poi_GetDossierData_fact.apidata_data.data.vars.fields\");\n            }\n            var fieldsArray = this.get(\"templateData\");\n            if (fieldsArray) {\n                this.arrayMerger(fieldsArray, userFieldsArray, mergedArray);\n            }\n            return mergedArray;\n        }.property(\"templateData.[]\", \"flipbit\"),\n        // Recursive function helper for mergedArray property\n        arrayMerger: function(fieldsArray, userFieldsArray, mergedArray) {\n            var self = this;\n            fieldsArray.forEach(function(item) {\n                if (item.inputtype === \"category\") {\n                    var arr = $.grep(userFieldsArray, function(n, i) {\n                        return (n.id === item.id);\n                    });\n                    if (arr.length > 0) {\n                        var subMergedArray = Ember.A();\n                        self.arrayMerger(item.fields, arr[0].fields, subMergedArray);\n                        item.fields.set(subMergedArray);\n//                        item.fields = subMergedArray;\n                    }\n                    mergedArray.pushObject(item);\n                }\n                else {\n                    if (!item.value) {\n                        var arr = $.grep(userFieldsArray, function(n, i) {\n                            return (n.id === item.id)\n                        });\n                        if ((arr.length > 0) && arr[0].value) {\n                            item.value = arr[0].value;\n                        } else\n                            item.value = \"\";\n                    }\n                    mergedArray.pushObject(item);\n                }\n            });\n        },\n        updateValue: function(fields, name, value) {\n            var self = this;\n            var arr = $.grep(fields, function(n, i) {\n                return (n.id === name);\n            });\n            if (arr.length > 0) {\n                arr[0].value = value;\n                return true;\n            }\n            else {\n                fields.some(function(item) {\n                    if (item.inputtype === \"category\") {\n                        //recurse through subFields\n                        self.updateValue(item.fields, name, value);\n                    }\n                });\n            }\n            return false;\n        },\n        clearValue: function(fields) {\n            var self = this;\n            fields.forEach(function(item) {\n                delete item.value;\n                if (item.inputtype === \"category\") {\n                    //recurse through subFields\n                    self.clearValue(item.fields);\n                }\n            });\n        },\n        isCancelable: function() {\n            return (this.get(\"isInserting\"));\n        }.property(\"isInserting\"),\n        buttonText: function() {\n            if (this.get(\"isInserting\"))\n                return \"Save\";\n            else\n                return\"Edit\";\n        }.property(\"isInserting\", \"isEnum\"),\n        actions: {\n            openModal: function(name) {\n                this.get('modals').open(name);\n            },\n            submitAction: function () {\n                $('[name=wf_optionsOutcome]').val('submit');\n                this.set(\"isSubmitting\", true );\n//                if (this.get(\"hasTemplateChanges\"))\n//                    this.updateTemplate();\n                this.send('userUpdateAction');\n                // here you could perform your actions like persisting to the server or so\n//                $('#emberForm').submit();\n                return true;\n            },\n            insertAction: function () {\n                console.log(\"insertAction\");\n                if (this.get(\"isInserting\")) {\n                    this.set(\"isInserting\", false);\n                    var loc = this.get(\"newLocation\");\n                    loc.pushObject(this.get(\"newObject\"));\n                    // This is here to trigger computed properties when there is a change to a subfield array\n                    if (loc != this.get(\"templateData\"))\n                        this.set(\"flipbit\", !this.get(\"flipbit\"));\n                    this.set(\"hasTemplateChanges\", true);\n                    this.send('templateUpdateAction');\n                }\n                else {\n                    this.set(\"isInserting\", true);\n                }\n            },\n            cancelAction: function() {\n                this.set(\"isInserting\", false);\n            },\n            addAction: function(id, label, array) {\n                array.pushObject({\n                    id: id,\n                    label: label\n                });\n            },\n            templateUpdateAction: function() {\n                var vars = this.get(\"templateVars\");\n                var fields = this.get(\"templateData\");\n                var self = this;\n                this.clearValue(fields);\n                vars.fields.set(fields);\n                var updateObjStore = {\n                    recordType: this.get(\"params.template\"),\n                    vars: vars\n                };\n                var self = this;\n                Ember.$.ajax(flowURL + '/objectstore/' + this.get('templateId') + '?Authorization=' + sessionKey, {\n                    type: 'PATCH',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        self.set(\"hasTemplateChanges\", false);\n                        console.log(self);\n                        // this.get('modals').open('picker');\n                        alert(\"Template Update Success\");\n                    },\n                    error: function(data) {\n                        alert(\"Template Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            },\n            userUpdateAction: function() {\n                if (this.get(\"dossier_exists\") && this.get(\"model._id\") != null) {\n                    console.log(\"about to save user: \" + this.get(\"model._id\"));\n                    var self = this;\n                    var vars = this.get(\"facts.data.vars\");\n                    var fields = this.get(\"templateData\");\n//                var fields = this.get(\"mergedArray\");\n                    // Sync the values from the form with the values in mergedArray\n                    var fieldValuePairs = $('#dossier_form').serializeArray();\n                    $.each(fieldValuePairs, function(index, fieldValuePair) {\n                        self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                        console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                    });\n                    var updateObjStore = {\n                        recordType: this.get(\"params.objTypeId\"),\n                        vars: {\n                            fields: fields,\n                            user: this.get(\"facts.data.vars.user\")\n                        }\n                    };\n                    console.log(updateObjStore);\n                    Ember.$.ajax(flowURL + '/objectstore/' + this.get(\"model._id\") + '?Authorization=' + sessionKey, {\n                        type: 'PATCH',\n                        async: false,\n                        data:  JSON.stringify(updateObjStore),\n                        dataType: 'json',\n                        contentType: 'application/json',\n                        context: this,\n                        success: function(data) {\n                            alert(\"User Update Success\");\n                        },\n                        error: function(data) {\n                            alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                        }\n                    });\n                }\n                else {\n                    this.send(\"userCreateAction\");\n                }\n            },\n            userCreateAction: function() {\n                var self = this;\n                var vars = this.get(\"facts.data.vars\");\n                var fields = this.get(\"templateData\");\n                var facts = this.get(\"facts\");\n//                var fields = this.get(\"mergedArray\");\n                // Sync the values from the form with the values in mergedArray\n                var fieldValuePairs = $('#dossier_form').serializeArray();\n                $.each(fieldValuePairs, function(index, fieldValuePair) {\n                    self.updateValue(self.get(\"mergedArray\"), fieldValuePair.name, fieldValuePair.value);\n                    console.log(\"Item \" + index + \" is [\" + fieldValuePair.name + \",\" + fieldValuePair.value + \"]\");\n                });\n                var updateObjStore = {\n                     recordType: this.get(\"params.objTypeId\"),\n                    vars: {\n                        fields: fields,\n                        user: this.get(\"facts.objId\")\n                    }\n                };\n                console.log(updateObjStore);\n                Ember.$.ajax(flowURL + '/objectstore?Authorization=' + sessionKey, {\n                    type: 'POST',\n                    async: false,\n                    data:  JSON.stringify(updateObjStore),\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    context: this,\n                    success: function(data) {\n                        alert(\"User Saved Success\");\n                        console.log(data);\n                        this.set(\"dossier_exists\", true);\n                        var id = {\n                            \"_id\": data.RESPONSE.objId\n                        }\n                        Ember.set(facts, \"apidata_data\", id);\n                        self.set(\"model._id\", id);\n                    },\n                    error: function(data) {\n                        alert(\"User Update Fail: \" + JSON.parse(data.responseText)[\"RESPONSE\"][\"MESSAGE\"]);\n                    }\n                });\n            }\n        }\n    });\n    App.ModalsService = Ember.Service.extend({\n        containerView: null,\n        open: function(name) {\n            var Modal = this.container.lookupFactory('component:'+name+'-modal');\n            var modal = Modal.create();\n            this.get('containerView').pushObject(modal);\n        },\n        close: function() {\n            this.get('containerView').popObject();\n        }\n    });\n\n    App.MyModalsComponent = Ember.ContainerView.extend({\n        elementId: 'my-modals',\n        modals: Ember.inject.service(),\n        didInsertElement: function() {\n            this.set('modals.containerView', this);\n        }\n    });\n\n    App.BaseModalComponent = Ember.Component.extend({\n        modals: Ember.inject.service(),\n        actions: {\n            close: function() {\n                this.get('modals').close();\n            }\n        }\n    });\n\n    App.PickerModalComponent = App.BaseModalComponent.extend({\n        layoutName: 'components/picker-modal',\n        pickerWrapper: null,\n        pickerData: null,\n        classNames: ['input-small'],\n        format: \"l\",\n        placeholder: Ember.computed.alias('format'),\n        iconOnRight: true,\n\n        didInsertElement: function () {\n            var self = this;\n            var format = this.get('format');\n\n            var pickerWrapper = this.$().datetimepicker({\n                format: 'l'\n                //viewMode: 'years'\n                //minDate: \"1/1/\" + (moment().year() - 2).toString()\n            });\n            this.set('pickerWrapper', pickerWrapper);\n\n            var pickerData = pickerWrapper.data(\"DateTimePicker\");\n            this.set('pickerData', pickerData);\n\n            if(this.get('datetime'))\n                pickerData.setDate(this.get('datetime'));\n\n            pickerWrapper.on('dp.change', function (ev) {\n                //self.sendAction('action', ev.format());\n                self.set('datetime', ev.date);\n            });\n        },\n\n        datetimeChanged: function () {\n            // get model datetime\n            var modelDatetime = this.get('datetime');\n            // get picker datetime\n            var picker = this.get('pickerData');\n            var pickerDatetime = picker.getDate();\n            // if not the same the overwrite model over picker\n            if (modelDatetime != pickerDatetime) {\n                picker.setDate(modelDatetime);\n            }\n            picker.hide();\n        }.observes('datetime')\n    });\n\n    function createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        // labelClass is a CSS class name for control labels\n        // fieldClass is a CSS class name applied to controls themselves\n        // subLabelClass is a CSS class name applied to the label for a subCategory - will likely provide a bolding\n        // subClass is a CSS class name applied to the inner div for a subCategory - will likely provide a nested view\n        // fieldId is the control id value\n        // fieldLabel is the Label value\n        // opts is an object which is expected to have optional properties {value, inputtype, options, results}\n        var returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><strong>' + fieldLabel + '</strong></label>';\n        returnHTML = returnHTML + '<div class=\"controls\">';\n        // var tvalue = \"\";\n        // console.log(opts.value);\n        // if(opts.value !== null)\n        // {\n        //     tvalue = opts.value;\n        // }\n        // else {\n        //     tvalue = \"\";\n        // }\n        if (typeof opts.inputtype === \"undefined\") opts.inputtype=\"default\";\n        switch (opts.inputtype)\n        {\n            case 'date':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='date' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'string':\n            case 'long':\n                //Basic Input\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"'>\";\n                break;\n            case 'image':\n                returnHTML = returnHTML + \"<div class='show-image' style='width:235px'><img src='\" + opts.value + \"' style='width:235px; height:132px' /><input class='\" + fieldClass +\" update' type='text' name='\" + fieldId + \"' value='\" + opts.value + \"' style='width: 235px'></div>\";\n                break;\n            case 'password':\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='password' name='\" + fieldId + \"' value='\" + opts.value + \"' onfocus='showPWD(this);' onblur='hidePWD(this);'>\";\n                break;\n            case 'enum':\n                //Basic Select Return\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                for (i = 0; i < opts.options.length; i++) {\n                    var selected = \"\";\n                    if (opts.options[i].id == opts.value)\n                    {\n                        selected = \"selected\";\n                    }\n                    returnHTML = returnHTML + \"<option \" + selected +\" value='\" + opts.options[i].id +  \"'>\" + opts.options[i].label + \"</option>\";\n                }\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'boolean':\n                //Basic boolean...\n                var isTrue = \"\";\n                var isFalse = \"\";\n                if((opts.value == 'true') || (opts.value === true))\n                {\n                    isTrue = \"selected\"; //checked old way\n                }else{\n                    isFalse = \"selected\"; //checked old way\n                }\n                returnHTML = returnHTML + \"<select class='\" + fieldClass +\"' name='\" + fieldId +  \"'>\"\n                returnHTML = returnHTML + \"<option \" + isTrue +\" value='True'>True</option>\";\n                returnHTML = returnHTML + \"<option \" + isFalse +\" value='False'>False</option>\";\n                returnHTML = returnHTML + \"</select>\"\n                break;\n            case 'category':\n                // returnHTML = '<label class=\"' + labelClass + '\" for=\"' + fieldId + '\"><h3>' + fieldLabel + '</h3></label>';\n                // returnHTML = returnHTML + '<div class=\"' + subClass + '\">';\n                returnHTML = \"<div class='white-text' id='collapseToggle'>\";\n                returnHTML = returnHTML + \"<h3 href='#\" + fieldId + \"' style='cursor:pointer;' data-toggle='collapse' class='collapsed' aria-expanded='false'>\" + fieldLabel + \"</h3>\";\n                returnHTML = returnHTML + \"<div id=\" + fieldId + \" aria-expanded='false' class='\" + subClass + \" collapse'>\";\n                opts.fields.forEach(function(opt) {\n                    returnHTML = returnHTML + createInput(labelClass, fieldClass, subLabelClass, subClass, opt.id, opt.label, opt);\n                });\n                returnHTML = returnHTML + \"</div>\";\n                break;\n            default:\n                returnHTML = returnHTML + \"<input class='\" + fieldClass +\"' type='text' name='\" + fieldId + \"' disabled=true value='\" + opts.value + \"'>\";\n                break;\n        }\n        returnHTML = returnHTML + '</div>';\n        return new Handlebars.SafeString(returnHTML);\n    };\n    Ember.Handlebars.registerBoundHelper('createInput', function(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts) {\n        //expects opts: {id, label, value, inputtype, options}\n        return createInput(labelClass, fieldClass, subLabelClass, subClass, fieldId, fieldLabel, opts);\n    });\n    \n    function showPWD(pwd) {\n    \tpwd.type=\"text\";\n    }\n    \n    function hidePWD(pwd) {\n    \tpwd.type=\"password\";\n    }\n</script>\n\n\n<script type=\"text/x-handlebars\" data-template-name=\"auto\">\n    <div class=\"panel panel-info\">\n        <div class=\"panel-heading\" style=\"font-weight:bolder;\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accord\" href=\"#{{templateId}}\">{{params.title}}</a>\n            </h4>\n        </div>\n        <div id={{templateId}} class=\"panel-collapse collapse in\">\n            <div id=\"body\" class=\"panel-body content\" id='accord'>\n                {{#if isAdmin}}\n                <div class=\"text-right\" style=\"margin-bottom: 5px;\">\n                    <button id=\"insert\" class=\"btn btn-warning\" {{action 'insertAction' target=\"controller\"}}>{{controller.buttonText}}</button>\n                    {{#if controller.isCancelable}}<button id=\"insert\" class=\"btn btn-danger\" {{action 'cancelAction' target=\"controller\"}}>Cancel</button>{{/if}}\n                </div>\n                {{#if controller.isInserting}}\n                <div style=\"outline: 1px solid darkorange; background: orange;\">\n                    {{partial \"newfield\"}}\n                    <div align=\"center\" style=\"padding: 15px;\">\n                        {{#if hasTemplateChanges}}\n                        <button id=\"save\" class=\"btn btn-primary\" {{action 'templateUpdateAction' target=\"controller\"}}>Save Template</button>\n                        {{/if}}\n                    </div>\n                </div>\n                {{/if}}\n                {{/if}}\n                <form id=\"dossier_form\">\n                    {{#each field in controller.mergedArray}}\n                    <div class=\"control-group\">\n                        {{createInput \"control-label\" \"form-control\" \"h2\" \"panel-body\" field.id field.label field}}\n                    </div>\n                    {{/each}}\n                    <div class=\"control-group\">\n                        {{my-modals}}\n                    </div>\n                </form>\n                <div align=\"center\">\n                    <button class=\"btn btn-primary\" {{action 'userUpdateAction' target=\"controller\"}}>Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"_newfield\">\n    <div style=\"padding: 10px;\">\n        <label class=\"control-label\" for=\"newLocation\"><h3>Field Location</h3></label>\n        {{{view \"select\" content=controller.locations class=\"form-control\" id=\"newLocation\"\n        value=controller.newLocation optionValuePath=\"content.reference\" optionLabelPath=\"content.label\"}}}\n        <label class=\"control-label\" for=\"newLabel\"><h3>Field Label</h3></label>\n        {{input class=\"form-control\" id=\"newLabel\" value=controller.newLabel}}\n        <label class=\"control-label\" for=\"newId\"><h3>Unique Field Id</h3></label>\n        {{input class=\"form-control\" id=\"newId\" value=controller.newId}}\n        <label class=\"control-label\" for=\"newType\"><h3>Field Type</h3></label>\n        {{{view \"select\" content=controller.selectableTypes class=\"form-control\" id=\"newType\"\n        value=controller.newType optionValuePath=\"content.id\" optionLabelPath=\"content.label\"}}}\n        {{#if isEnum}}\n        <div class=\"panel-body\">\n            <h4>New Dropdown Options</h4><br>\n            <ul>\n                {{#each option in controller.newEnumOptions}}\n                <li>{{option.id}} - {{option.label}}</li>\n                {{/each}}\n            </ul>\n            <label class=\"control-label\" for=\"newOptionLabel\"><h3>Option Label</h3></label>\n            {{input class=\"form-control\" id=\"newOptionLabel\" value=controller.newOptionLabel}}\n            <label class=\"control-label\" for=\"newOptionId\"><h3>Unique Option Id</h3></label>\n            {{input class=\"form-control\" id=\"newOptionId\" value=controller.newOptionId}}\n            <div align=\"center\">\n                <button id=\"add\" class=\"btn btn-primary\" {{action 'addAction' controller.newOptionId controller.newOptionLabel controller.newEnumOptions target=\"controller\"}}>Add</button>\n            </div>\n        </div>\n        {{/if}}\n    </div>\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"components/picker-modal\">\n    <div class=\"form-group\">\n        <div class='input-group date'>\n            {{#if iconOnRight}}\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            {{else}}\n            <span class=\"input-group-addon\">\n                <span class=\"glyphicon glyphicon-calendar\"></span>\n            </span>\n            <input type='text' placeholder=\"mm/dd/yyyy\" class=\"form-control\" />\n            {{/if}}\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"D109F3D38DE3FDD7D14A826F05A0F1350E93CC2710971A5A344B4498A8CF342CL29691"},{"_id":{"$oid":"56798a992700007701cfc224"},"id":"56798a992700007701cfc224","owner":{},"recType":"app","name":"Active Directory Default/List View","desc":"User list page for renderring the list of users retrieved from Active Directory by given a specific group path","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805913675,"createDate":{"$date":1450805913675},"origin":{"id":"567318b12e0000ab1356f101","name":"Active Directory Default/List View","desc":"User list page for renderring the list of users retrieved from Active Directory by given a specific group path","creatorId":"tpanagos@point.io","createDate":1450805913675,"checksum":"9FF60384EC2E57AEDF7C5A84AE02CE5C4368070E6BE498B8D7FCDF5407AB8F20L1824"},"data":{"form":"<script type=\"text/javascript\">\n\n    App.FileController = Ember.Controller.extend({\n        facts: jsonTask.FACTS,\n        actions: {\n            submitAction: function () {\n                // here you could perform your actions like persisting to the server or so\n                $('#emberForm').submit();\n            }\n        }\n    });\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"file\">\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Active Directory Profile Details</a>\n            </h4>\n        </div>\n        <div id=\"content panel-group\" id=\"accordion\">\n            <div style=\"padding: 10px;\">\n                <div class=\"panel panel-default\">\n                    <div id='bod' class=\"panel-body\">\n                        <div class=\"row\">\n                            <div class=\"control-group\">\n                                <div align=\"center\">\n                                    <label class=\"control-label\" for=\"entrylist\">Select a User</label>\n                                    {{view \"select\" id=\"entrylist\" name=\"objId\" class=\"form-control\" content=facts.apidata_data.users\n                                    optionValuePath=\"content.objectGUID\" optionLabelPath=\"content.displayName\"\n                                    prompt=\"Please Select\" value=facts.selectedEmp}}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"9FF60384EC2E57AEDF7C5A84AE02CE5C4368070E6BE498B8D7FCDF5407AB8F20L1824"},{"_id":{"$oid":"56798a992700008401cfc226"},"id":"56798a992700008401cfc226","owner":{},"recType":"app","name":"Active Directory Profile View","desc":"Profile page for renderring the info retrieved from Active Directory","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805913725,"createDate":{"$date":1450805913725},"origin":{"id":"567318b1370000711396b6c8","name":"Active Directory Profile View","desc":"Profile page for renderring the info retrieved from Active Directory","creatorId":"tpanagos@point.io","createDate":1450805913725,"checksum":"605D8CE57391AB62F3CEC52797F26C2B1110A8AB88A32D550C637A002802A781L4401"},"data":{"form":"<script type=\"text/javascript\">\n    var baseURL = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n    App.ProfileController = Ember.Controller.extend({\n        facts: jsonTask.FACTS\n    });\n    Ember.Handlebars.helper('cheating', function(value, options) {\n        // if(value == \"Angel Rivera\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/1.jpg' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Jon Shinault\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/2.jpg' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Zack Cao\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/3.png' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Dylan Yang\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/4.jpg' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Jin Wang\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/5.jpg' alt='' width='235px' height='132px' /><br />\");\n        return \"\";\n\t});\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"profile\">\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Basic Profile</a>\n            </h4>\n        </div>\n        <div id=\"collapseA\" class=\"panel-collapse collapse in\">\n            <div class=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div id='bod' class=\"panel-body\">\n                            <!-- <label class=\"control-label\" for=\"profilePic\"><strong>Profile Picture</strong></label> -->\n                            {{cheating facts.displayName}}\n                            <label class=\"control-label\" for=\"FirstName\"><strong>First Name</strong></label>\n                            {{input class=\"form-control\" id=\"FirstName\" value=facts.givenName readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"MiddleName\"><strong>Middle Name</strong></label>\n                            {{input class=\"form-control\" id=\"MiddleName\" value=facts.middleName readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"LastName\"><strong>Last Name</strong></label>\n                            {{input class=\"form-control\" id=\"LastName\" value=facts.sn readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"Title\"><strong>Title</strong></label>\n                            {{input class=\"form-control\" id=\"Title\" value=facts.title readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"Email\"><strong>Email</strong></label>\n                            {{input class=\"form-control\" id=\"Email\" value=facts.mail readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"PhoneNumber\"><strong>Phone Number</strong></label>\n                            {{input class=\"form-control\" id=\"PhoneNumber\" value=facts.telephoneNumber readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"AssistantName\"><strong>Assistant Name</strong></label>\n                            {{input class=\"form-control\" id=\"AssistantName\" value=facts.assistant readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"NTID\"><strong>NTID</strong></label>\n                            {{input class=\"form-control\" id=\"NTID\" value=facts.NTID readonly=\"true\"}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"605D8CE57391AB62F3CEC52797F26C2B1110A8AB88A32D550C637A002802A781L4401"},{"_id":{"$oid":"56798a992700007701cfc224"},"id":"56798a992700007701cfc224","owner":{},"recType":"app","name":"Active Directory Default/List View","desc":"User list page for renderring the list of users retrieved from Active Directory by given a specific group path","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805913675,"createDate":{"$date":1450805913675},"origin":{"id":"567318b12e0000ab1356f101","name":"Active Directory Default/List View","desc":"User list page for renderring the list of users retrieved from Active Directory by given a specific group path","creatorId":"tpanagos@point.io","createDate":1450805913675,"checksum":"9FF60384EC2E57AEDF7C5A84AE02CE5C4368070E6BE498B8D7FCDF5407AB8F20L1824"},"data":{"form":"<script type=\"text/javascript\">\n\n    App.FileController = Ember.Controller.extend({\n        facts: jsonTask.FACTS,\n        actions: {\n            submitAction: function () {\n                // here you could perform your actions like persisting to the server or so\n                $('#emberForm').submit();\n            }\n        }\n    });\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"file\">\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Active Directory Profile Details</a>\n            </h4>\n        </div>\n        <div id=\"content panel-group\" id=\"accordion\">\n            <div style=\"padding: 10px;\">\n                <div class=\"panel panel-default\">\n                    <div id='bod' class=\"panel-body\">\n                        <div class=\"row\">\n                            <div class=\"control-group\">\n                                <div align=\"center\">\n                                    <label class=\"control-label\" for=\"entrylist\">Select a User</label>\n                                    {{view \"select\" id=\"entrylist\" name=\"objId\" class=\"form-control\" content=facts.apidata_data.users\n                                    optionValuePath=\"content.objectGUID\" optionLabelPath=\"content.displayName\"\n                                    prompt=\"Please Select\" value=facts.selectedEmp}}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"9FF60384EC2E57AEDF7C5A84AE02CE5C4368070E6BE498B8D7FCDF5407AB8F20L1824"},{"_id":{"$oid":"56798a992700008401cfc226"},"id":"56798a992700008401cfc226","owner":{},"recType":"app","name":"Active Directory Profile View","desc":"Profile page for renderring the info retrieved from Active Directory","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1450805913725,"createDate":{"$date":1450805913725},"origin":{"id":"567318b1370000711396b6c8","name":"Active Directory Profile View","desc":"Profile page for renderring the info retrieved from Active Directory","creatorId":"tpanagos@point.io","createDate":1450805913725,"checksum":"605D8CE57391AB62F3CEC52797F26C2B1110A8AB88A32D550C637A002802A781L4401"},"data":{"form":"<script type=\"text/javascript\">\n    var baseURL = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n    App.ProfileController = Ember.Controller.extend({\n        facts: jsonTask.FACTS\n    });\n    Ember.Handlebars.helper('cheating', function(value, options) {\n        // if(value == \"Angel Rivera\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/1.jpg' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Jon Shinault\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/2.jpg' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Zack Cao\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/3.png' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Dylan Yang\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/4.jpg' alt='' width='235px' height='132px' /><br />\");\n        // if(value == \"Jin Wang\")\n        // return new Ember.Handlebars.SafeString(\"<img id='profilePic' src='https://s3.amazonaws.com/cdn.point.io/distribution/Big+Man/5.jpg' alt='' width='235px' height='132px' /><br />\");\n        return \"\";\n\t});\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"profile\">\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseA\">Basic Profile</a>\n            </h4>\n        </div>\n        <div id=\"collapseA\" class=\"panel-collapse collapse in\">\n            <div class=\"content panel-group\" id=\"accordion\">\n                <div style=\"padding: 10px;\">\n                    <div class=\"panel panel-default\">\n                        <div id='bod' class=\"panel-body\">\n                            <!-- <label class=\"control-label\" for=\"profilePic\"><strong>Profile Picture</strong></label> -->\n                            {{cheating facts.displayName}}\n                            <label class=\"control-label\" for=\"FirstName\"><strong>First Name</strong></label>\n                            {{input class=\"form-control\" id=\"FirstName\" value=facts.givenName readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"MiddleName\"><strong>Middle Name</strong></label>\n                            {{input class=\"form-control\" id=\"MiddleName\" value=facts.middleName readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"LastName\"><strong>Last Name</strong></label>\n                            {{input class=\"form-control\" id=\"LastName\" value=facts.sn readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"Title\"><strong>Title</strong></label>\n                            {{input class=\"form-control\" id=\"Title\" value=facts.title readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"Email\"><strong>Email</strong></label>\n                            {{input class=\"form-control\" id=\"Email\" value=facts.mail readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"PhoneNumber\"><strong>Phone Number</strong></label>\n                            {{input class=\"form-control\" id=\"PhoneNumber\" value=facts.telephoneNumber readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"AssistantName\"><strong>Assistant Name</strong></label>\n                            {{input class=\"form-control\" id=\"AssistantName\" value=facts.assistant readonly=\"true\"}}\n                            <label class=\"control-label\" for=\"NTID\"><strong>NTID</strong></label>\n                            {{input class=\"form-control\" id=\"NTID\" value=facts.NTID readonly=\"true\"}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>","facts":{}},"checksum":"605D8CE57391AB62F3CEC52797F26C2B1110A8AB88A32D550C637A002802A781L4401"}]}