{"name":"Docusign SignHere Example","desc":"Simple App that Creates an Docusign signer with Tabs Reference Here: https://docs.google.com/document/d/1HuXmits-EwHNk4FqGqGdqKcKIDgkZCkftrtqdN2V3h0/edit#","template":{"_id":{"$oid":"56a29103fdcc28e3ea538a47"},"id":"56a29103fdcc28e3ea538a47","owner":{},"recType":"app","name":"Docusign SignHere Example","desc":"Simple App that Creates an Docusign signer with Tabs Reference Here: https://docs.google.com/document/d/1HuXmits-EwHNk4FqGqGdqKcKIDgkZCkftrtqdN2V3h0/edit#","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1453917220948,"createDate":{"$date":1453494531274},"updateDate":{"$date":1453917220948},"origin":{"id":"56a29103fdcc28e3ea538a47","name":"NEW APP","desc":"NEW APP DESCRIPTION","creatorId":"tpanagos@point.io","createDate":1453494531274,"checksum":"1BB5FE67CE100583D6C9E8D939B82F4D087FB630066EBB790867EAD976B8CDE7L22748"},"data":{"style":"<!--Enter Style Here-->","facts":{"name_from_form":"foobar","READMap":{"apidata_method":"GET","objId":"","objTypeId":"Preview","display":"always","name":"$$name_from_form"},"RELATEDS":[{"ID":"37BBB632-7199-492D-807EC86D40347E47","TOOLTIP":"Download allowed","TYPE":"PIO","MAP":"56a38883fdcc28ea94538a9d"}]},"forms":[{"taskname":"view","taskkey":"poi_view_form","formid":"56a290fcfdcc28b2e2538a44","formname":"poi_view_form"}],"providers":[{"taskname":"read","taskkey":"poi_read_fact","providerid":"56a26b9efdcc28cb7d5389cc"}],"processtype":{"name":"twostep","version":"twostep:1:49"},"icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAYAAAA9zQYyAAADWUlEQVR4Xu3SAQ0AAAjDMO7fND6W4uCjO6dAqMBCW0xR4ICGIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO40BmoFUAaBT7zQGaAZSBYBOvdMYoBlIFQA69U5jgGYgVQDo1DuNAZqBVAGgU+80BmgGUgWATr3TGKAZSBUAOvVOY4BmIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO40BmoFUAaBT7zQGaAZSBYBOvdMYoBlIFQA69U5jgGYgVQDo1DuNAZqBVAGgU+80BmgGUgWATr3TGKAZSBUAOvVOY4BmIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO40BmoFUAaBT7zQGaAZSBYBOvdMYoBlIFQA69U5jgGYgVQDo1DuNAZqBVAGgU+80BmgGUgWATr3TGKAZSBUAOvVOY4BmIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO40BmoFUAaBT7zQGaAZSBYBOvdMYoBlIFQA69U5jgGYgVQDo1DuNAZqBVAGgU+80BmgGUgWATr3TGKAZSBUAOvVOY4BmIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO40BmoFUAaBT7zQGaAZSBYBOvdMYoBlIFQA69U5jgGYgVQDo1DuNAZqBVAGgU+80BmgGUgWATr3TGKAZSBUAOvVOY4BmIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO40BmoFUAaBT7zQGaAZSBYBOvdMYoBlIFQA69U5jgGYgVQDo1DuNAZqBVAGgU+80BmgGUgWATr3TGKAZSBUAOvVOY4BmIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO40BmoFUAaBT7zQGaAZSBYBOvdMYoBlIFQA69U5jgGYgVQDo1DuNAZqBVAGgU+80BmgGUgWATr3TGKAZSBUAOvVOY4BmIFUA6NQ7jQGagVQBoFPvNAZoBlIFgE690xigGUgVADr1TmOAZiBVAOjUO415PNEAtQUOHXEAAAAASUVORK5CYII=","diagram_xml":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"newApp\" id=\"45\" inline=\"false\" deletable=\"false\" x=\"0\" y=\"0\">\n    <mutation formcount=\"1\" factcount=\"1\" forms=\",view,poi_view_form\" facts=\",read,poi_read_fact\" factmap=\",READMap\"></mutation>\n    <field name=\"PROCESSTYPES\">[\"twostep\",\"twostep:1:49\"]</field>\n    <value name=\"FORM_1\">\n      <block type=\"Form\" id=\"46\">\n        <field name=\"FORMS\">56a290fcfdcc28b2e2538a44</field>\n      </block>\n    </value>\n    <value name=\"FACT_1\">\n      <block type=\"newFact\" id=\"47\" inline=\"false\">\n        <mutation inputcount=\"2\" type=\"READ\"></mutation>\n        <field name=\"FACTS\">56a26b9efdcc28cb7d5389cc</field>\n        <field name=\"factTypes\">READ</field>\n        <field name=\"display\">always</field>\n        <value name=\"INPUT_1\">\n          <block type=\"text\" id=\"48\">\n            <field name=\"TEXT\">Preview</field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>\n</xml>","styleChoice":"Default","styleLink":""},"checksum":"3228BCA592D8F1E1A8BB7A758D243301D2C4850D52F7D7E8A0B71C6C4D9E7AF9L2957"},"facts":[{"_id":{"$oid":"56a26b9efdcc28cb7d5389cc"},"id":"56a26b9efdcc28cb7d5389cc","owner":{},"recType":"app","name":"docusign fact provider","desc":"Recently Converted Fact Record","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1453484958915,"createDate":{"$date":1453484958915},"origin":{"id":"5623d4c9fd0afd0c87e3eebb","name":"docusign fact provider","desc":"Recently Converted Fact Record","creatorId":"tpanagos@point.io","createDate":1453484958915,"checksum":"F235166F31DAEFF53F73E36F1A8AF67562733DCF7939ACA51BDCE83B0B548A86L308"},"data":{"query":"","component":{"forms":[{"taskname":"Default","taskkey":"poi_default_view","formid":"56a26b9dfdcc28cb7d5389c8","formname":"poi_default_view"}],"providers":[],"processid":"io.point.Docusign_provider","processtype":{"name":"io.point.Docusign_provider","version":"io.point.Docusign_provider:1:2514"}}},"checksum":"F235166F31DAEFF53F73E36F1A8AF67562733DCF7939ACA51BDCE83B0B548A86L308"}],"flows":[{"PROCESSTYPE":{"id":"twostep:1:49","name":"twostep","key":"twostep","category":"http://www.activiti.org/test","description":"%3Cxml%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cblock%20type%3D%22start%22%20id%3D%221%22%20deletable%3D%22false%22%20x%3D%220%22%20y%3D%220%22%3E%3Cfield%20name%3D%22NAME%22%3Etwostep%3C%2Ffield%3E%3Cnext%3E%3Cblock%20type%3D%22serviceTask%22%20id%3D%228%22%3E%3Cfield%20name%3D%22NAME%22%3Eread%3C%2Ffield%3E%3Cfield%20name%3D%22factType%22%3EREAD%3C%2Ffield%3E%3Cnext%3E%3Cblock%20type%3D%22userTask%22%20id%3D%2214%22%20inline%3D%22false%22%3E%3Cfield%20name%3D%22NAME%22%3Eview%3C%2Ffield%3E%3Cnext%3E%3Cblock%20type%3D%22end%22%20id%3D%222%22%20deletable%3D%22false%22%3E%3C%2Fblock%3E%3C%2Fnext%3E%3C%2Fblock%3E%3C%2Fnext%3E%3C%2Fblock%3E%3C%2Fnext%3E%3C%2Fblock%3E%3C%2Fxml%3E","resourceName":"bpmn","deploymentId":"47","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"io.point.tpanagos","BPMNXML":"<definitions targetNamespace=\"http://www.activiti.org/test\" expressionLanguage=\"http://www.w3.org/1999/XPath\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"><message name=\"injectListJSON\" id=\"injectListJSON\"/><process isExecutable=\"true\" name=\"twostep\" id=\"twostep\"><documentation>%3Cxml%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cblock%20type%3D%22start%22%20id%3D%221%22%20deletable%3D%22false%22%20x%3D%220%22%20y%3D%220%22%3E%3Cfield%20name%3D%22NAME%22%3Etwostep%3C%2Ffield%3E%3Cnext%3E%3Cblock%20type%3D%22serviceTask%22%20id%3D%228%22%3E%3Cfield%20name%3D%22NAME%22%3Eread%3C%2Ffield%3E%3Cfield%20name%3D%22factType%22%3EREAD%3C%2Ffield%3E%3Cnext%3E%3Cblock%20type%3D%22userTask%22%20id%3D%2214%22%20inline%3D%22false%22%3E%3Cfield%20name%3D%22NAME%22%3Eview%3C%2Ffield%3E%3Cnext%3E%3Cblock%20type%3D%22end%22%20id%3D%222%22%20deletable%3D%22false%22%3E%3C%2Fblock%3E%3C%2Fnext%3E%3C%2Fblock%3E%3C%2Fnext%3E%3C%2Fblock%3E%3C%2Fnext%3E%3C%2Fblock%3E%3C%2Fxml%3E</documentation><startEvent name=\"twostep\" id=\"start\"/><sequenceFlow targetRef=\"serviceTask5\" sourceRef=\"start\" id=\"flow1\"/><serviceTask activiti:class=\"plugins.facts\" name=\"read\" id=\"serviceTask5\"><extensionElements><activiti:field name=\"PluginKey\"><activiti:string>poi_read_fact</activiti:string></activiti:field><activiti:field name=\"parameterMap\"><activiti:expression>${READMap}</activiti:expression></activiti:field></extensionElements></serviceTask><sequenceFlow targetRef=\"userTask10\" sourceRef=\"serviceTask5\" id=\"flow2\"/><userTask activiti:assignee=\"${wf_currentAssignee}\" activiti:formKey=\"poi_view_form\" name=\"view\" id=\"userTask10\"/><boundaryEvent attachedToRef=\"userTask10\" cancelActivity=\"false\" name=\"Message\" id=\"boundarymessage3\"><messageEventDefinition messageRef=\"injectListJSON\"/></boundaryEvent><sequenceFlow targetRef=\"end\" sourceRef=\"userTask10\" id=\"flow4\"/><endEvent name=\"end\" id=\"end\"/></process></definitions>"}},{"PROCESSTYPE":{"id":"io.point.Docusign_provider:1:30","name":"Docusign Fact Provider Flow","key":"io.point.Docusign_provider","category":"http://www.activiti.org/test","description":null,"resourceName":"processes/fact_providers/docusign_provider.bpmn","deploymentId":"27","version":1,"hasStartForm":false,"isSuspended":false,"tenantId":"*","BPMNXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:activiti=\"http://activiti.org/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" expressionLanguage=\"http://www.w3.org/1999/XPath\" targetNamespace=\"http://www.activiti.org/test\">\n  <process id=\"io.point.Docusign_provider\" name=\"Docusign Fact Provider Flow\" isExecutable=\"true\">\n    <startEvent id=\"startevent1\" name=\"Start\"></startEvent>\n    <serviceTask id=\"task3\" name=\"Sign\" activiti:class=\"plugins.fact_components.api_Docusign_Read_Obj_toFields\">\n      <extensionElements>\n        <activiti:field name=\"objType\">\n          <activiti:expression>${objTypeId}</activiti:expression>\n        </activiti:field>\n        <activiti:field name=\"objKey\">\n          <activiti:expression>${objId}</activiti:expression>\n        </activiti:field>\n      </extensionElements>\n    </serviceTask>\n    <sequenceFlow id=\"flow1\" sourceRef=\"startevent1\" targetRef=\"exclusivegateway1\"></sequenceFlow>\n    <endEvent id=\"endevent1\" name=\"End\"></endEvent>\n    <exclusiveGateway id=\"exclusivegateway1\" name=\"Exclusive Gateway\" default=\"default\"></exclusiveGateway>\n    <sequenceFlow id=\"flow14\" name=\"GET\" sourceRef=\"exclusivegateway1\" targetRef=\"task3\">\n      <conditionExpression xsi:type=\"tFormalExpression\"><![CDATA[${apidata_method == \"GET\"}]]></conditionExpression>\n    </sequenceFlow>\n    <sequenceFlow id=\"flow17\" sourceRef=\"task3\" targetRef=\"endevent1\"></sequenceFlow>\n    <sequenceFlow id=\"default\" name=\"Unsupported\" sourceRef=\"exclusivegateway1\" targetRef=\"endevent1\"></sequenceFlow>\n    <userTask id=\"usertask1\" name=\"Default\" activiti:formKey=\"poi_default_view\"></userTask>\n  </process>\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_io.point.Docusign_provider\">\n    <bpmndi:BPMNPlane bpmnElement=\"io.point.Docusign_provider\" id=\"BPMNPlane_io.point.Docusign_provider\">\n      <bpmndi:BPMNShape bpmnElement=\"startevent1\" id=\"BPMNShape_startevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"70.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"task3\" id=\"BPMNShape_task3\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"30.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"endevent1\" id=\"BPMNShape_endevent1\">\n        <omgdc:Bounds height=\"35.0\" width=\"35.0\" x=\"740.0\" y=\"164.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"exclusivegateway1\" id=\"BPMNShape_exclusivegateway1\">\n        <omgdc:Bounds height=\"40.0\" width=\"40.0\" x=\"150.0\" y=\"161.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape bpmnElement=\"usertask1\" id=\"BPMNShape_usertask1\">\n        <omgdc:Bounds height=\"55.0\" width=\"105.0\" x=\"334.0\" y=\"220.0\"></omgdc:Bounds>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge bpmnElement=\"flow1\" id=\"BPMNEdge_flow1\">\n        <omgdi:waypoint x=\"105.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"150.0\" y=\"181.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow14\" id=\"BPMNEdge_flow14\">\n        <omgdi:waypoint x=\"170.0\" y=\"161.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"170.0\" y=\"57.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"334.0\" y=\"57.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"12.0\" width=\"23.0\" x=\"179.0\" y=\"41.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"flow17\" id=\"BPMNEdge_flow17\">\n        <omgdi:waypoint x=\"439.0\" y=\"57.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"57.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"757.0\" y=\"164.0\"></omgdi:waypoint>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge bpmnElement=\"default\" id=\"BPMNEdge_default\">\n        <omgdi:waypoint x=\"190.0\" y=\"181.0\"></omgdi:waypoint>\n        <omgdi:waypoint x=\"740.0\" y=\"181.0\"></omgdi:waypoint>\n        <bpmndi:BPMNLabel>\n          <omgdc:Bounds height=\"12.0\" width=\"63.0\" x=\"209.0\" y=\"164.0\"></omgdc:Bounds>\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</definitions>"}}],"forms":[{"_id":{"$oid":"56a290fcfdcc28b2e2538a44"},"id":"56a290fcfdcc28b2e2538a44","owner":{},"recType":"app","name":"Simple","desc":"NEW CREATED","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1453494524433,"createDate":{"$date":1453494524433},"origin":{"id":"","name":"Simple","desc":"NEW CREATED","creatorId":"tpanagos@point.io","createDate":1453494524433,"checksum":"6E8600B23DA449E81FE711C09E1A0F2D843FD83C11CD1CA9046416CCCE9A8B1BL207"},"data":{"form":"<script>\n    window.App.IndexController.reopen({\n        actions: {\n        }\n    });\n</script>\n<script type=\"text/x-handlebars\" data-template-name=\"index\">\nSimple\n</script>","facts":{}},"checksum":"6E8600B23DA449E81FE711C09E1A0F2D843FD83C11CD1CA9046416CCCE9A8B1BL207"},{"_id":{"$oid":"56a26b9dfdcc28cb7d5389c8"},"id":"56a26b9dfdcc28cb7d5389c8","owner":{},"recType":"app","name":"DocuSign Default Fact View","desc":"Recently Converted Form Record","creatorId":"tpanagos@point.io","updaterId":"tpanagos@point.io","tstamp":1453840716674,"createDate":{"$date":1453484957835},"updateDate":{"$date":1453840716674},"origin":{"id":"5623dcc5fd0afde60be3f01d","name":"DocuSign Default Fact View","desc":"Recently Converted Form Record","creatorId":"tpanagos@point.io","createDate":1453484957835,"checksum":"518340DAD6ACD9C8823779D00D7C93AA773AF2E424F6E6545601F329F01EC39EL14735"},"data":{"form":"<script type='text/javascript'>\n\n    var serverUrl = \"http://api.point.io/api/v2/\";\n\n    App.Related = Ember.Object.extend({\n        \"id\": \"1f813e0c-e523-4d13-a255-793e3b20786a\",\n        \"label\": \"Joint_Venture_Agreement.pdf\",\n        \"tooltip\": \"Download allowed\",\n        \"type\": \"PIO\",\n        \"url\": \"http://api.point.io/ui-html5/LinkViewer/app.html?id=02E67D51-9395-42FB-B22FB8CE50DE674D\",\n        \"map\":\"\",\n        \"shareid\": \"\",\n        \"containerid\": \"\",\n        \"remotepath\": \"\",\n        \"fileid\": \"\",\n        \"filename\": \"\",\n        \"ak\": \"\",\n        \"totalPages\": 0,\n        \"imageURL\": \"\",\n        \"pageNum\": 0,\n        \"nextPage\": 0,\n        \"prevPage\": 0,\n        \"isLoaded\": false,\n        \"isDisplayedView\": false,\n        \"isDisplayedSign\": false,\n        \"frameName\": \"SigningFrame\",\n        isVisible: function () {\n            console.log(\"isvis\");\n            return this.get(\"isLoaded\") && this.get(\"isDisplayedView\");\n        }.property(\"isLoaded\",\"isDisplayedView\"),\n        isLoading: function () {\n            console.log(\"isloading = \" + (((!this.get(\"isLoaded\") && this.get(\"isDisplayedView\")) || this.get(\"isDisplayedSign\"))));\n            return ((!this.get(\"isLoaded\") && this.get(\"isDisplayedView\")) || this.get(\"isDisplayedSign\"));\n        }.property(\"isLoaded\",\"isDisplayedView\", \"isDisplayedSign\")\n    });\n\n    App.Related.reopenClass({\n        createRelatedfromRELATED: function(data) {\n            console.log(\">>>>>>>>>>>>>>>>> MAP value: \" + data.MAP);\n            return App.Related.create({id: data.ID, label: data.LABEL, tooltip: data.TOOLTIP, type: data.TYPE, url: data.URL, map: data.MAP, frameName: \"SigningFrame\" + data.ID});\n        }\n    });\n\n    App.PreviewView = Ember.View.create({\n        didInsertElement: function () {\n            Ember.run.scheduleOnce('afterRender', this, 'afterRenderEvent');\n        },\n        afterRenderEvent: function () {\n            this.get('controller').send('loadpage', 1);\n        }\n    });\n\n    App.PreviewController = Ember.Controller.extend({\n        isFileListEmpty: true,\n        isOpen: false,\n        facts: jsonTask.FACTS,\n        rawRelateds: jsonTask.RELATEDS,\n        relateds: function() {\n            var relatedObjs = Ember.A();\n            var self = this;\n            this.get(\"rawRelateds\").forEach( function(related) {\n                relatedObjs.pushObject(App.Related.createRelatedfromRELATED(related));\n            });\n            return relatedObjs;\n        }.property(\"rawRelateds\"),\n        linkid: \"065ee71e-aa6f-45c0-a4a2-de86df05111d\",\n//            linkid: facts.linkid,\n        totalPages: 0,\n        pageNum: 1,\n        nextPage: 0,\n        prevPage: 0,\n        init: function(){\n            console.log(\"my params are: \");\n            console.log(this.get(\"params\"));\n            console.log(this.get(\"model\"));\n        },\n        linkObject: function (linkObject) {\n            var servercall = serverUrl + \"links/\" + linkObject.id + \"/details?\"\n                    + \"ViewerAPIKey=5c3fe650-661d-4551-aff4-0f9d5ea8cb7d\"\n                    + \"&ipaddress=127.0.0.1\";\n            $.ajax({\n                type: \"GET\",\n                async: false,\n                url: servercall,\n                success: function (data) {\n                    linkObject.shareid = data.RESULT.DATA[0][2];\n                    linkObject.containerid = data.RESULT.DATA[0][10];\n                    linkObject.remotepath = data.RESULT.DATA[0][9];\n                    linkObject.fileid = data.RESULT.DATA[0][7];\n                    linkObject.filename = data.RESULT.DATA[0][8];\n                    linkObject.ak = data.ACCESSKEY;\n                }\n            });\n            return linkObject;\n        },\n        actions: {\n            docusignAction: function (pageNum, id, tObject, frameName) {\n                this.send('closepage', id, tObject);\n                var self = this;\n                this.set('isOpen', true);\n                $.ajax(\"/docusign/\" + encodeURIComponent(tObject.url) + \"?q=demo.docusign.netXXAMPXX/restapi/v2/login_information\" +\n                        \"&linkid=\" + tObject.id + \"&taskid=\" + taskid +\n                        \"&Authorization=\" + sessionKey + \"&map=\" + tObject.map, {\n                    type: \"POST\",\n                    dataType: \"json\",\n                    contentType: \"application/json; charset=utf-8\",\n                    data: JSON.stringify(this.get(\"params\")),\n                    success: function (data, state, header) {\n                        var iframeLink = data.RESPONSE.PASSTHRU;\n                        window.location.replace(iframeLink);\n                    }\n                });\n                tObject.set(\"isDisplayedSign\", true);\n            },\n            loadpage: function (pageNum, id, tObject) {\n//                    console.log(\"loadpage \" + pageNum + \" Label \" + tObject.label);\n                if (!tObject.isLoaded) {\n                    this.linkObject(tObject);\n                }\n                if (pageNum != tObject.pageNum) {\n//                        console.log(\"tObj \" + tObject.containerid + \" Label \" + tObject.label);\n                    var servercall = serverUrl + \"folders/files/preview.json?\"\n                            + \"containerid=\" + tObject.containerid\n                            + \"&remotepath=\" + tObject.remotepath\n                            + \"&fileid=\" + tObject.fileid\n                            + \"&filename=\" + tObject.filename\n                            + \"&folderid=\" + tObject.shareid\n                            + \"&pagenum=\" + pageNum;\n                    var totalPages = 0;\n                    var imageUrl = \"\";\n                    $.ajax({\n                        type: \"GET\",\n                        async: true,\n                        headers: {\n                            \"Authorization\": tObject.ak\n                        },\n                        url: servercall,\n                        success: function (data) {\n                            console.log(data);\n                            tObject.set(\"totalPages\", data.NUMPAGES);\n                            tObject.set(\"imageUrl\", data.RESULT);\n                            tObject.set(\"isLoaded\", true);\n                            document.getElementById(id).src = tObject.imageUrl;\n                            $('#'+ id).show();\n                        }\n                    });\n//                    tObject.set(\"isLoaded\", true);\n\n                    if ((pageNum + 1) <= tObject.totalPages) {\n                        tObject.set('nextPage', pageNum + 1);\n                    } else {\n                        tObject.set('nextPage', 0);\n                    }\n\n                    if ((pageNum - 1) > 0) {\n                        tObject.set('prevPage', pageNum - 1);\n                    } else {\n                        tObject.set('prevPage', 0);\n                    }\n                    tObject.set('pageNum', pageNum);\n                }\n                tObject.set(\"isDisplayedView\", true);\n                console.log(\"DisplayedView: \" + tObject.get(\"isDisplayedView\") + \"isLoaded: \" + tObject.get(\"isLoaded\"));\n            },\n            closepage: function(id, tObject) {\n                $('#'+ id).hide();\n                tObject.set(\"isDisplayedView\", false);\n            },\n            addFile: function (share) {\n                //create a link\n                var linkURL = \"\";\n                //v3\n                var servercall = baseURL + \"/apidoc/links/create/\" + share.shareid + \"?Authorization=\" + sessionKey;\n                $.ajax({\n                    type: \"POST\",\n                    async: false,\n                    data: {'containerid' : share.containerid  ,  'path' : share.path  ,  'fileid' : share.fileid , 'filename': share.name},\n                    url: servercall,\n                    success: function(data){\n                        console.log(data);\n                        linkURL = data.RESPONSE.linkid;\n                    }\n                });\n                //add it to the list\n                var fileArray = this.get(\"filelist\");\n                fileArray.pushObject({name: share.name, link: linkURL, label: share.name});\n                this.set(\"isFileListEmpty\", false);\n            },\n            removeFile: function(id){\n                var fileList = this.get('filelist');\n                fileList.removeObject(id);\n                if (fileList.length == 0)\n                    this.set(\"isFileListEmpty\", true);\n            }\n        }\n    });\n\n    // This is here to trigger the rendering of the View to the end of the body tag\n    App.PreviewView.append();\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"preview\">\n    <div class=\"panel panel-info\" style=\"margin-top:15px;margin-bottom:15px;\">\n        <div class=\"panel-heading\">\n            <h4 class=\"panel-title\">\n                <a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseB\">Sign Related Files</a>\n            </h4>\n        </div>\n        <div id=\"collapseB\" class=\"panel-collapse collapse in\">\n            <div class=\"container-fluid\">\n                <div class=\"panel panel-default\">\n                    <div class=\"panel-body\">\n                        <table class=\"table table-striped table-bordered table-responsive\">\n                            <thead>\n                            <tr>\n                                <th>&nbsp;</th>\n                                <th>LABEL</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {{#each related in controller.relateds}}\n                            {{partial \"file\"}}\n                            {{/each}}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <!-- content -->\n                {{#unless controller.isFileListEmpty}}\n                <div id=\"content panel-group\" id=\"accordion\">\n                    <div style=\"padding: 10px;\">\n                        <div class=\"panel panel-default\">\n                            <div class=\"panel-heading\">\n                                <h3 class=\"panel-title\">Attached Files</h3>\n                            </div>\n                            <div id='bod' class=\"panel-body\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-3\"><label>File Label</label></div>\n                                    <div class=\"col-md-3\"><label>File Name</label></div>\n                                    <div class=\"col-md-3\"><label>Link</label></div>\n                                </div>\n                                {{#each file in controller.filelist}}\n                                <div class=\"row\">\n                                    <div class=\"col-md-3\">{{input type=\"text\" class=\"form-control\" value=file.label}}\n                                    </div>\n                                    <div class=\"col-md-3\"><p class=\"form-control-static\">{{file.name}}</p></div>\n                                    <div class=\"col-md-3\"><p class=\"form-control-static\">{{file.link}}</p></div>\n                                    <button class=\"btn btn-danger btn-sm\" {{action\n                                    \"removeFile\" file}}>Remove&nbsp;<span\n                                        class=\"glyphicon glyphicon-trash\"></span></button>\n                                    {{input type=\"hidden\" value=file.link name=file.name}}\n                                </div>\n                                {{/each}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {{/unless}}\n            </div>\n        </div>\n    </div>\n</script>\n\n<script type=\"text/x-handlebars\" data-template-name=\"_file\">\n    <tr>\n        <td align=\"right\" width=\"25\">\n            {{#unless related.isDisplayedView}}\n            <button class=\"btn btn-success\" {{action \"docusignAction\" 1 related.id related related.frameName}}>\n                <span class=\"glyphicon glyphicon-pencil\"></span>&nbsp;Sign\n            </button>\n            <br>\n            <button class=\"btn btn-success\" {{action \"loadpage\" 1 related.id related}}>\n                <span class=\"glyphicon glyphicon-eye-open\"></span>&nbsp;View\n            </button>\n            {{/unless}}\n            {{#if related.isDisplayedView}}\n            <button class=\"btn btn-success\" {{action \"docusignAction\" 1 related.id related related.frameName}}>\n                <span class=\"glyphicon glyphicon-pencil\"></span>&nbsp;Sign\n            </button>\n            <br>\n            <button class=\"btn btn-success\" {{action \"closepage\" related.id related}}>\n                <span class=\"glyphicon glyphicon-eye-close\"></span>&nbsp;Hide\n            </button>\n            {{/if}}\n        </td>\n        <td>{{related.label}}</td>\n    </tr>\n    <tr style={{unless related.isVisible \"display:none;\"}}>\n        <td colspan=\"2\">\n            {{#if related.isVisible}}\n            <p class=\"form-control-static\"><label>Show Page</label> {{related.pageNum}} of {{related.totalPages}}</p>\n            <p>{{#if related.prevPage}}\n                <a {{action \"loadpage\" related.prevPage related.id related}}>Previous</a>\n                {{/if}}\n                {{#if related.prevPage}}\n                {{#if related.nextPage}}\n                &nbsp;|&nbsp;\n                {{/if}}\n                {{/if}}\n                {{#if related.nextPage}}\n                <a {{action \"loadpage\" related.nextPage related.id related}}>Next</a>\n                {{/if}}</p>\n            {{/if}}\n            <p><img id={{related.id}} style=\"border:1px solid #021a40;\" hidden=true></p>\n            {{#if related.isVisible}}\n            <p>{{#if related.prevPage}}\n                <a {{action \"loadpage\" related.prevPage related.id related}}>Previous</a>\n                {{/if}}\n                {{#if related.prevPage}}\n                {{#if related.nextPage}}\n                &nbsp;|&nbsp;\n                {{/if}}\n                {{/if}}\n                {{#if related.nextPage}}\n                <a {{action \"loadpage\" related.nextPage related.id related}}>Next</a>\n                {{/if}}</p>\n            {{/if}}\n        </td>\n    </tr>\n    <tr style={{unless related.isLoading \"display:none;\"}}>\n        <td colspan=\"2\" align=\"center\">\n            <img src=\"/assets/images/throbber.gif\"/>\n        </td>\n    </tr>\n</script>\n\n<script src=\"/assets/javascripts/iframeResizer.min.js\" type=\"text/javascript\"></script>"},"checksum":"744450F63B44BFE98C0674705ABC1AFFA94CB9154820AF422897496F1CEB58B3L15238"}]}