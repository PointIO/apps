{"_id":{"$oid":"56229c15fd0afd80b070ee7f"},"checksum":"","createDate":{"$date":"2015-10-17T19:06:22.685Z"},"creatorId":"","data":{"facts":{"HOSTS":[{"LABEL":"localhost:9000","VALUE":"http://localhost:9000/"},{"LABEL":"Demoflow","VALUE":"http://demoflow.point.io/"},{"LABEL":"Demoflow03","VALUE":"http://demoflow03.point.io/"},{"LABEL":"Production","VALUE":"http://pointflow.point.io/"},{"LABEL":"Staging","VALUE":"http://pf-staging.point.io/"}]},"form":"\u003cscript\u003e\n\n    window.App.IndexController.reopen({\n      facts: jsonTask.FACTS,\n    })\n    \n    function resetProcesses(host, username, password){\n      $.ajax({\n          url: host + \"auth?email=\" + encodeURIComponent(username) + \"\u0026password=\" + encodeURIComponent(password) + \"\u0026apikey=\" + encodeURIComponent(\"3E327883-78B1-4722-AA4F154822101078\"),\n          type: \"POST\"\n      })\n      .done(function(data){\n        $(\"#log\").append($(\"\u003cp\u003e\").text(\"login successful\"))\n        sessionKey = data.RESULT.SESSIONKEY\n        $.ajax({\n          url: host + \"processes?Authorization=\" + sessionKey,\n          type: \"GET\"\n        })\n        .done(function(data){\n          $(\"#log\").append($(\"\u003cp\u003e\").text(\"listing processes successful\"))\n          $.each(data.RESPONSE.GROUPS[0].PROCESSES, function(index, process){\n            $.ajax({\n              url: host + \"processes/\" + process.id + \"?Authorization=\" + sessionKey,\n              type: \"DELETE\"\n            })\n            .done(function(data){\n              $(\"#log\").append($(\"\u003cp\u003e\").text(\"process \" + process.id + \" deletion successful\"))\n            })\n            .fail( function(){\n              $(\"#log\").append($(\"\u003cp\u003e\").text(\"failed to delete process \" + process.id))\n            })\n          })\n        })\n        .fail( function(){\n          $(\"#log\").append($(\"\u003cp\u003e\").text(\"listing processes failed\"))\n        })\n      })\n      .fail( function(){\n        $(\"#log\").append($(\"\u003cp\u003e\").text(\"login failed\"))\n      })\n    }\n  \u003c/script\u003e\n  \n  \u003cscript type=\"text/x-handlebars\" data-template-name=\"index\"\u003e\n    \u003cdiv class=\"panel panel-default\"\u003e\n      \u003cdiv class=\"panel-heading\"\u003eBulk process deletion\u003c/div\u003e\n      \u003cdiv class=\"panel-body\"\u003e\n          \n        \u003cform\u003e\n          \u003cfieldset\u003e\n            \u003cdiv class=\"form-group\"\u003e\n              \u003clabel for=\"host\"\u003eHost address\u003c/label\u003e\n              {{view Ember.Select content=facts.HOSTS id=\"host\" class=\"form-control\" optionValuePath=\"content.VALUE\" optionLabelPath=\"content.LABEL\"}}\n            \u003c/div\u003e\n            \u003cdiv class=\"form-group\"\u003e\n              \u003clabel for=\"email\"\u003eEmail address\u003c/label\u003e\n              \u003cinput type=\"email\" class=\"form-control\" id=\"email\" placeholder=\"Enter email\"\u003e\n            \u003c/div\u003e\n            \u003cdiv class=\"form-group\"\u003e\n              \u003clabel for=\"password\"\u003ePassword\u003c/label\u003e\n              \u003cinput type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\"\u003e\n            \u003c/div\u003e\n            \u003cbutton type=\"button\" class=\"btn btn-default\" onclick=\"resetProcesses($('#host').val(), $('#email').val(), $('#password').val())\"\u003eReset all my processes\u003c/button\u003e\n          \u003c/fieldset\u003e\n        \u003c/form\u003e\n\n        \u003cdiv id=\"log\"\u003e\u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/script\u003e"},"desc":"Recently Converted Form Record","id":"56229c15fd0afd80b070ee7f","name":"processesReset","origin":{"checksum":"unknown","createDate":0,"creatorId":"","desc":"","id":"","name":""},"owner":{},"recType":"form","tstamp":0,"updateDate":{"$date":"2015-10-17T19:06:22.685Z"},"updatorId":""}
